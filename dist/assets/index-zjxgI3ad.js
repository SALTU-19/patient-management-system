import{C as Z,A as $}from"./AtomSpinner-Sdoxd1dX.js";import{I as ee,P as te,C as se}from"./Card-hPdeP_30.js";import{t as oe}from"./tabBar-f7aDZj6h.js";import{D as L}from"./DraggableCard-mGTa4xxx.js";import{_ as D,r as p,o as r,g as f,w as x,d as n,c as i,t as y,e as a,a as v,m as F,b as d,h as H,v as b,i as M,T as w,p as E,f as I,F as V,j as U}from"./index-pE5mnqQf.js";import{I as _,M as C}from"./Modal-faAevnTz.js";import{I as k}from"./Input-w4Lr5OBu.js";import{S as A}from"./Select-C2huDAPV.js";import"./IconSearch-5qFAVXBc.js";const re={name:"DiseaseHistoryCard",components:{DraggableCard:L},props:{diease:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},ie={class:"flex flex-row items-center justify-between w-full mt-3"},ne={key:0,class:"text-sm"};function le(s,t,u,h,e,l){const g=p("DraggableCard");return r(),f(g,{title:u.diease.name,onExpand:t[0]||(t[0]=m=>e.isExpanded=m)},{default:x(()=>[n("div",ie,[e.isExpanded?(r(),i("div",ne,y(u.diease.explonation),1)):a("",!0)])]),_:1},8,["title"])}const ae=D(re,[["render",le]]),de={name:"DiseaseHistoryCard",components:{DraggableCard:L},props:{drug:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},ue={key:0,class:"grid grid-row-2 gap-4 items-start justify-between w-full mt-3"},me={class:"flex flex-row items-center w-full"},ce=n("div",{class:"text-sm"}," Starting Date: ",-1),ge={class:"text-sm ml-3"},pe={class:"flex flex-row items-center w-full"},he=n("div",{class:"text-sm"}," Ending Date: ",-1),ye={class:"text-sm ml-3"},fe={class:"flex flex-row items-center w-full"},xe=n("div",{class:"text-sm"}," Doctor Comment: ",-1),De={class:"text-sm ml-3"};function Se(s,t,u,h,e,l){const g=p("DraggableCard");return r(),f(g,{title:u.drug.name,onExpand:t[0]||(t[0]=m=>e.isExpanded=m)},{default:x(()=>[e.isExpanded?(r(),i("div",ue,[n("div",me,[ce,n("div",ge,y(u.drug.startingDate),1)]),n("div",pe,[he,n("div",ye,y(u.drug.endingDate),1)]),n("div",fe,[xe,n("div",De,y(u.drug.doctorComment),1)])])):a("",!0)]),_:1},8,["title"])}const ve=D(de,[["render",Se]]),He={name:"DiseaseHistoryCard",components:{DraggableCard:L},props:{surgery:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},be={key:0,class:"grid grid-row-2 gap-4 items-start justify-between w-full mt-3"},Me={class:"flex flex-row items-center w-full"},we=n("div",{class:"text-sm"}," Date: ",-1),_e={class:"text-sm ml-3"},Ce={class:"flex flex-row items-center w-full"},ke=n("div",{class:"text-sm"}," Doctor Comment: ",-1),Ee={class:"text-sm ml-3"};function Ie(s,t,u,h,e,l){const g=p("DraggableCard");return r(),f(g,{title:u.surgery.name,onExpand:t[0]||(t[0]=m=>e.isExpanded=m)},{default:x(()=>[e.isExpanded?(r(),i("div",be,[n("div",Me,[we,n("div",_e,y(u.surgery.date),1)]),n("div",Ce,[ke,n("div",Ee,y(u.surgery.doctorComment),1)])])):a("",!0)]),_:1},8,["title"])}const Fe=D(He,[["render",Ie]]),Ae=[{id:1,name:"Disease History"},{id:2,name:"Drug History"},{id:3,name:"Surgery History"}],Ve={name:"AddDiseaseHistoryModal",data(){return{name:"",explonation:"",isSaving:!1,isError:!1,message:"",currentStep:1,isSaveHovered:!1}},components:{InputFile:_,Modal:C,Input:k,Select:A},props:["showAddDiseaseHistoryModal","patientUID"],emits:["close-modal"],computed:{},watch:{showAddDiseaseHistoryModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["createDiseaseHistory"]),...F(["setCreateDiseaseHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.name="",this.explonation="",this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.name===""||this.explonation==="")&&this.showAddDiseaseHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _createDiseaseHistory(){this.isSaving=!0,this.setCreateDiseaseHistoryCreds({name:this.name,explonation:this.explonation,patientUID:this.patientUID});let s=await this.createDiseaseHistory();return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createDiseaseHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},Ue={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Le={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Pe={class:"text-center text-2xl font-semibold text-primary"},je={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Be=["disabled"],Te={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ne(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Add Disease History",showModal:u.showAddDiseaseHistoryModal,onCloseModal:t[8]||(t[8]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[7]||(t[7]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",Ue,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),d(g,{modelValue:e.explonation,"onUpdate:modelValue":t[1]||(t[1]=o=>e.explonation=o),placeholder:"Explonation",outline:"",error:e.isError&&e.explonation===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",Le,[n("div",Pe,y(e.message),1)])):a("",!0),n("div",je,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[2]||(t[2]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[3]||(t[3]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[4]||(t[4]=o=>e.isSaveHovered=!0),onMouseleave:t[5]||(t[5]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[6]||(t[6]=(...o)=>l.finish&&l.finish(...o))}," Add Disease History ",40,Be)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",Te," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const Oe=D(Ve,[["render",Ne],["__scopeId","data-v-67ecb27d"]]),ze={name:"AddDrugHistoryModal",data(){return{name:"",startingDate:"",endingDate:"",doctorComment:"",currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:""}},components:{InputFile:_,Modal:C,Input:k},props:["showAddDrugHistoryModal","patientUID"],emits:["close-modal"],computed:{},watch:{showAddDrugHistoryModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["createDrugHistory"]),...F(["setCreateDrugHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.name="",this.startingDate="",this.endingDate="",this.doctorComment="",this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.name===""||this.startingDate===""||this.endingDate===""||this.doctorComment==="")&&this.showAddDrugHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _createDrugHistory(){this.isSaving=!0,this.setCreateDrugHistoryCreds({name:this.name,startingDate:this.startingDate+"T"+new Date(this.startingDate).toISOString().split("T")[1],endingDate:this.endingDate+"T"+new Date(this.endingDate).toISOString().split("T")[1],doctorComment:this.doctorComment,patientUID:this.patientUID});let s=await this.createDrugHistory();return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createDrugHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},P=s=>(E("data-v-fc939afd"),s=s(),I(),s),Ye={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},qe={class:"flex flex-col gap-4"},We=P(()=>n("div",{class:"text-black text-sm font-semibold"},"Starting Date",-1)),Ge={class:"flex flex-col gap-4"},Ke=P(()=>n("div",{class:"text-black text-sm font-semibold"},"Ending Date",-1)),Re={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Je={class:"text-center text-2xl font-semibold text-primary"},Qe={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Xe=["disabled"],Ze={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function $e(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Add Drug History",showModal:u.showAddDrugHistoryModal,onCloseModal:t[10]||(t[10]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[9]||(t[9]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",Ye,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),n("div",qe,[We,d(g,{modelValue:e.startingDate,"onUpdate:modelValue":t[1]||(t[1]=o=>e.startingDate=o),type:"date",outline:"",error:e.isError&&e.startingDate===""},null,8,["modelValue","error"])]),n("div",Ge,[Ke,d(g,{modelValue:e.endingDate,"onUpdate:modelValue":t[2]||(t[2]=o=>e.endingDate=o),type:"date",outline:"",error:e.isError&&e.endingDate===""},null,8,["modelValue","error"])]),d(g,{modelValue:e.doctorComment,"onUpdate:modelValue":t[3]||(t[3]=o=>e.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:e.isError&&e.doctorComment===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",Re,[n("div",Je,y(e.message),1)])):a("",!0),n("div",Qe,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[4]||(t[4]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[5]||(t[5]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[6]||(t[6]=o=>e.isSaveHovered=!0),onMouseleave:t[7]||(t[7]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[8]||(t[8]=(...o)=>l.finish&&l.finish(...o))}," Add Drug History ",40,Xe)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",Ze," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const et=D(ze,[["render",$e],["__scopeId","data-v-fc939afd"]]),tt={name:"AddSurgeryHistoryModal",data(){return{name:"",date:"",doctorComment:"",isSaving:!1,isError:!1,message:"",isSaveHovered:!1,currentStep:1}},components:{InputFile:_,Modal:C,Input:k},props:["showAddSurgeryHistoryModal","patientUID"],emits:["close-modal"],watch:{showAddSurgeryHistoryModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["createSurgeryHistory"]),...F(["setCreateSurgeryHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.name="",this.date="",this.doctorComment="",this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){console.log(this.date),console.log(this.name),console.log(this.doctorComment),(this.name===""||this.date===""||this.doctorComment==="")&&this.showAddSurgeryHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _createSurgeryHistory(){this.isSaving=!0,this.setCreateSurgeryHistoryCreds({name:this.name,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],doctorComment:this.doctorComment,patientUID:this.patientUID});let s=await this.createSurgeryHistory();return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createSurgeryHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},st=s=>(E("data-v-32cb2749"),s=s(),I(),s),ot={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},rt={class:"flex flex-col gap-4"},it=st(()=>n("div",{class:"text-black text-sm font-semibold"},"Date",-1)),nt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},lt={class:"text-center text-2xl font-semibold text-primary"},at={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},dt=["disabled"],ut={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function mt(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Add Surgery History",showModal:u.showAddSurgeryHistoryModal,onCloseModal:t[9]||(t[9]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[8]||(t[8]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",ot,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),n("div",rt,[it,d(g,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=o=>e.date=o),type:"date",outline:"",error:e.isError&&e.date===""},null,8,["modelValue","error"])]),d(g,{modelValue:e.doctorComment,"onUpdate:modelValue":t[2]||(t[2]=o=>e.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:e.isError&&e.doctorComment===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",nt,[n("div",lt,y(e.message),1)])):a("",!0),n("div",at,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[3]||(t[3]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[4]||(t[4]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[5]||(t[5]=o=>e.isSaveHovered=!0),onMouseleave:t[6]||(t[6]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[7]||(t[7]=(...o)=>l.finish&&l.finish(...o))}," Add Surgery History ",40,dt)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",ut," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const ct=D(tt,[["render",mt],["__scopeId","data-v-32cb2749"]]),gt={name:"EditDiseaseHistoryModal",data(){return{name:"",explonation:"",isSaving:!1,isError:!1,message:"",currentStep:1,isSaveHovered:!1}},components:{InputFile:_,Modal:C,Input:k,Select:A},props:["showEditDiseaseHistoryModal","selectedDiseaseHistory"],emits:["close-modal"],computed:{},watch:{showEditDiseaseHistoryModal(s){s?(this.currentStep=1,this.resetForm()):(console.log("reset"),this.resetForm())},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["updateDiseaseHistory"]),...F(["setUpdateDiseaseHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.selectedDiseaseHistory!=null?(console.log(this.selectedDiseaseHistory),this.name=this.selectedDiseaseHistory.name,this.explonation=this.selectedDiseaseHistory.explonation):(this.name="",this.explonation=""),this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.name===""||this.explonation==="")&&this.showEditDiseaseHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _updateDiseaseHistory(){this.isSaving=!0,this.setUpdateDiseaseHistoryCreds({name:this.name,explonation:this.explonation});let s=await this.updateDiseaseHistory({uid:this.selectedDiseaseHistory.uId});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updateDiseaseHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},pt={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},ht={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},yt={class:"text-center text-2xl font-semibold text-primary"},ft={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},xt=["disabled"],Dt={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function St(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Edit Disease History",showModal:u.showEditDiseaseHistoryModal,onCloseModal:t[8]||(t[8]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[7]||(t[7]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",pt,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),d(g,{modelValue:e.explonation,"onUpdate:modelValue":t[1]||(t[1]=o=>e.explonation=o),placeholder:"Explonation",outline:"",error:e.isError&&e.explonation===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",ht,[n("div",yt,y(e.message),1)])):a("",!0),n("div",ft,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[2]||(t[2]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[3]||(t[3]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[4]||(t[4]=o=>e.isSaveHovered=!0),onMouseleave:t[5]||(t[5]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[6]||(t[6]=(...o)=>l.finish&&l.finish(...o))}," Edit Disease History ",40,xt)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",Dt," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const vt=D(gt,[["render",St],["__scopeId","data-v-a2e706ac"]]),Ht={name:"EditDrugHistoryModal",data(){return{name:"",startingDate:"",endingDate:"",doctorComment:"",currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:""}},components:{InputFile:_,Modal:C,Input:k},props:["showEditDrugHistoryModal","selectedDrugHistory"],emits:["close-modal"],computed:{},watch:{showEditDrugHistoryModal(s){s?(this.currentStep=1,this.resetForm()):this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["updateDrugHistory"]),...F(["setUpdateDrugHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},convertDateFormat(s){const t=s.split("."),u=new Date(`${t[2]}-${t[1]}-${t[0]}`),h=u.getFullYear(),e=(u.getMonth()+1).toString().padStart(2,"0"),l=u.getDate().toString().padStart(2,"0");return`${h}-${e}-${l}`},resetForm(){this.selectedDrugHistory!=null?(console.log(this.selectedDrugHistory),this.name=this.selectedDrugHistory.name,this.startingDate=this.convertDateFormat(this.selectedDrugHistory.startingDate),this.endingDate=this.convertDateFormat(this.selectedDrugHistory.endingDate),this.doctorComment=this.selectedDrugHistory.doctorComment):(this.name="",this.startingDate="",this.endingDate="",this.doctorComment=""),this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.name===""||this.startingDate===""||this.endingDate===""||this.doctorComment==="")&&this.showEditDrugHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _updateDrugHistory(){this.isSaving=!0,console.log(this.startingDate+"T"+new Date(this.startingDate).toISOString().split("T")[1]),console.log(this.startingDate),console.log(this.endingDate),this.setUpdateDrugHistoryCreds({name:this.name,startingDate:this.startingDate+"T"+new Date(this.startingDate).toISOString().split("T")[1],endingDate:this.endingDate+"T"+new Date(this.endingDate).toISOString().split("T")[1],doctorComment:this.doctorComment});let s=await this.updateDrugHistory({uid:this.selectedDrugHistory.uId});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updateDrugHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},j=s=>(E("data-v-8f00dbf2"),s=s(),I(),s),bt={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Mt={class:"flex flex-col gap-4"},wt=j(()=>n("div",{class:"text-black text-sm font-semibold"},"Starting Date",-1)),_t={class:"flex flex-col gap-4"},Ct=j(()=>n("div",{class:"text-black text-sm font-semibold"},"Ending Date",-1)),kt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Et={class:"text-center text-2xl font-semibold text-primary"},It={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Ft=["disabled"],At={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Vt(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Edit Drug History",showModal:u.showEditDrugHistoryModal,onCloseModal:t[10]||(t[10]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[9]||(t[9]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",bt,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),n("div",Mt,[wt,d(g,{modelValue:e.startingDate,"onUpdate:modelValue":t[1]||(t[1]=o=>e.startingDate=o),type:"date",outline:"",error:e.isError&&e.startingDate===""},null,8,["modelValue","error"])]),n("div",_t,[Ct,d(g,{modelValue:e.endingDate,"onUpdate:modelValue":t[2]||(t[2]=o=>e.endingDate=o),type:"date",outline:"",error:e.isError&&e.endingDate===""},null,8,["modelValue","error"])]),d(g,{modelValue:e.doctorComment,"onUpdate:modelValue":t[3]||(t[3]=o=>e.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:e.isError&&e.doctorComment===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",kt,[n("div",Et,y(e.message),1)])):a("",!0),n("div",It,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[4]||(t[4]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[5]||(t[5]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[6]||(t[6]=o=>e.isSaveHovered=!0),onMouseleave:t[7]||(t[7]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[8]||(t[8]=(...o)=>l.finish&&l.finish(...o))}," Edit Drug History ",40,Ft)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",At," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const Ut=D(Ht,[["render",Vt],["__scopeId","data-v-8f00dbf2"]]),Lt={name:"EditSurgeryHistoryModal",data(){return{name:"",date:"",doctorComment:"",isSaving:!1,isError:!1,message:"",isSaveHovered:!1,currentStep:1}},components:{InputFile:_,Modal:C,Input:k},props:["showEditSurgeryHistoryModal","selectedSurgeryHistory"],emits:["close-modal"],watch:{showEditSurgeryHistoryModal(s){s?(this.currentStep=1,this.resetForm()):this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...v(["updateSurgeryHistory"]),...F(["setUpdateSurgeryHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},convertDateFormat(s){const t=s.split("."),u=new Date(`${t[2]}-${t[1]}-${t[0]}`),h=u.getFullYear(),e=(u.getMonth()+1).toString().padStart(2,"0"),l=u.getDate().toString().padStart(2,"0");return`${h}-${e}-${l}`},resetForm(){this.selectedSurgeryHistory!=null?(this.name=this.selectedSurgeryHistory.name,this.date=this.convertDateFormat(this.selectedSurgeryHistory.date),this.doctorComment=this.selectedSurgeryHistory.doctorComment):(this.name="",this.date="",this.doctorComment=""),this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.name===""||this.date===""||this.doctorComment==="")&&this.showEditSurgeryHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _updateSurgeryHistory(){this.isSaving=!0,this.setUpdateSurgeryHistoryCreds({name:this.name,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],doctorComment:this.doctorComment});let s=await this.updateSurgeryHistory({uid:this.selectedSurgeryHistory.uId});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updateSurgeryHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},Pt=s=>(E("data-v-fea137c6"),s=s(),I(),s),jt={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Bt={class:"flex flex-col gap-4"},Tt=Pt(()=>n("div",{class:"text-black text-sm font-semibold"},"Date",-1)),Nt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Ot={class:"text-center text-2xl font-semibold text-primary"},zt={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Yt=["disabled"],qt={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Wt(s,t,u,h,e,l){const g=p("Input"),m=p("Modal");return r(),f(w,{to:"body"},[d(m,{title:"Edit Surgery History",showModal:u.showEditSurgeryHistoryModal,onCloseModal:t[9]||(t[9]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[8]||(t[8]=M((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[e.currentStep==1?(r(),i("div",jt,[d(g,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),placeholder:"Name",outline:"",error:e.isError&&e.name===""},null,8,["modelValue","error"]),n("div",Bt,[Tt,d(g,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=o=>e.date=o),type:"date",outline:"",error:e.isError&&e.date===""},null,8,["modelValue","error"])]),d(g,{modelValue:e.doctorComment,"onUpdate:modelValue":t[2]||(t[2]=o=>e.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:e.isError&&e.doctorComment===""},null,8,["modelValue","error"])])):a("",!0),e.currentStep==2?(r(),i("div",Nt,[n("div",Ot,y(e.message),1)])):a("",!0),n("div",zt,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[3]||(t[3]=o=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[4]||(t[4]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[5]||(t[5]=o=>e.isSaveHovered=!0),onMouseleave:t[6]||(t[6]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[7]||(t[7]=(...o)=>l.finish&&l.finish(...o))}," Edit Surgery History ",40,Yt)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",qt," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const Gt=D(Lt,[["render",Wt],["__scopeId","data-v-fea137c6"]]),Kt={name:"DeleteDiseaseHistoryModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:_,Modal:C,Input:k,Select:A},props:["showDeleteDiseaseHistoryModal","uid"],emits:["close-modal"],computed:{},watch:{showDeleteDiseaseHistoryModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...v(["deleteDiseaseHistory"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deleteDiseaseHistory(){this.isSaving=!0;let s=await this.deleteDiseaseHistory({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deleteDiseaseHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},Rt=s=>(E("data-v-c859534d"),s=s(),I(),s),Jt={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Qt=Rt(()=>n("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this disease history? ",-1)),Xt=[Qt],Zt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},$t={class:"text-center text-2xl font-semibold text-primary"},es={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},ts={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function ss(s,t,u,h,e,l){const g=p("Modal");return r(),f(w,{to:"body"},[d(g,{title:"Delete Disease History",showModal:u.showDeleteDiseaseHistoryModal,onCloseModal:t[4]||(t[4]=m=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[3]||(t[3]=M((...m)=>l.handleForm&&l.handleForm(...m),["prevent"]))},[e.currentStep==1?(r(),i("div",Jt,Xt)):a("",!0),e.currentStep==2?(r(),i("div",Zt,[n("div",$t,y(e.message),1)])):a("",!0),n("div",es,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[0]||(t[0]=m=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[1]||(t[1]=m=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...m)=>l.finish&&l.finish(...m))}," Delete ",512)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",ts," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const os=D(Kt,[["render",ss],["__scopeId","data-v-c859534d"]]),rs={name:"DeleteDrugHistoryModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:_,Modal:C,Input:k,Select:A},props:["showDeleteDrugHistoryModal","uid"],emits:["close-modal"],computed:{},watch:{showDeleteDrugHistoryModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...v(["deleteDrugHistory"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deleteDrugHistory(){this.isSaving=!0;let s=await this.deleteDrugHistory({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deleteDrugHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},is=s=>(E("data-v-ba23919e"),s=s(),I(),s),ns={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},ls=is(()=>n("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this drug history? ",-1)),as=[ls],ds={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},us={class:"text-center text-2xl font-semibold text-primary"},ms={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},cs={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function gs(s,t,u,h,e,l){const g=p("Modal");return r(),f(w,{to:"body"},[d(g,{title:"Delete Drug History",showModal:u.showDeleteDrugHistoryModal,onCloseModal:t[4]||(t[4]=m=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[3]||(t[3]=M((...m)=>l.handleForm&&l.handleForm(...m),["prevent"]))},[e.currentStep==1?(r(),i("div",ns,as)):a("",!0),e.currentStep==2?(r(),i("div",ds,[n("div",us,y(e.message),1)])):a("",!0),n("div",ms,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[0]||(t[0]=m=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[1]||(t[1]=m=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...m)=>l.finish&&l.finish(...m))}," Delete ",512)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",cs," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const ps=D(rs,[["render",gs],["__scopeId","data-v-ba23919e"]]),hs={name:"DeleteSurgeryHistoryModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:_,Modal:C,Input:k,Select:A},props:["showDeleteSurgeryHistoryModal","uid"],emits:["close-modal"],computed:{},watch:{showDeleteSurgeryHistoryModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...v(["deleteSurgeryHistory"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deleteSurgeryHistory(){this.isSaving=!0;let s=await this.deleteSurgeryHistory({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deleteSurgeryHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},ys=s=>(E("data-v-436336b7"),s=s(),I(),s),fs={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},xs=ys(()=>n("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this surgery history? ",-1)),Ds=[xs],Ss={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},vs={class:"text-center text-2xl font-semibold text-primary"},Hs={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},bs={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ms(s,t,u,h,e,l){const g=p("Modal");return r(),f(w,{to:"body"},[d(g,{title:"Delete Surgery History",showModal:u.showDeleteSurgeryHistoryModal,onCloseModal:t[4]||(t[4]=m=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:x(()=>[n("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[3]||(t[3]=M((...m)=>l.handleForm&&l.handleForm(...m),["prevent"]))},[e.currentStep==1?(r(),i("div",fs,Ds)):a("",!0),e.currentStep==2?(r(),i("div",Ss,[n("div",vs,y(e.message),1)])):a("",!0),n("div",Hs,[e.currentStep!=1?(r(),i("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[0]||(t[0]=m=>e.currentStep--)}," Back ")):(r(),i("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[1]||(t[1]=m=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?H((r(),i("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...m)=>l.finish&&l.finish(...m))}," Delete ",512)),[[b,e.currentStep==1||e.currentStep==2]]):a("",!0),e.currentStep==2?(r(),i("button",bs," Done ")):a("",!0)])],32)]),_:1},8,["showModal"])])}const ws=D(hs,[["render",Ms],["__scopeId","data-v-436336b7"]]),_s={name:"PatientHistory",components:{ContentPanel:Z,IconBack:ee,PatientInfo:te,Card:se,tabBar:oe,DiseaseHistoryCard:ae,DrugHistoryCard:ve,SurgeryHistoryCard:Fe,AddDiseaseHistoryModal:Oe,AddDrugHistoryModal:et,AddSurgeryHistoryModal:ct,EditDiseaseHistoryModal:vt,EditDrugHistoryModal:Ut,EditSurgeryHistoryModal:Gt,DeleteDiseaseHistoryModal:os,DeleteDrugHistoryModal:ps,DeleteSurgeryHistoryModal:ws,AtomSpinner:$},props:{},data(){return{id:this.$route.params.id,title:"HISTORY",selectedMenuItem:1,historyMenuList:Ae,showAddDiseaseHistoryModal:!1,showAddDrugHistoryModal:!1,showAddSurgeryHistoryModal:!1,showEditDiseaseHistoryModal:!1,showEditDrugHistoryModal:!1,showEditSurgeryHistoryModal:!1,showDeleteDiseaseHistoryModal:!1,showDeleteDrugHistoryModal:!1,showDeleteSurgeryHistoryModal:!1,dieasesList:[{id:1,name:"Diabetes",explonation:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:2,name:"Hypertension",explonation:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:3,name:"Heart Disease",explonation:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:4,name:"Lung Disease",explonation:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:5,name:"Kidney Disease",explonation:"Lorem ipsum dolor sit amet, consectetur adipiscing el"}],drugList:[{id:1,name:"Majezik",startingDate:"12.12.2020",endingDate:"12.12.2021",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:2,name:"Insulin",startingDate:"12.12.2020",endingDate:"12.12.2021",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:3,name:"Insulin",startingDate:"12.12.2020",endingDate:"12.12.2021",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:4,name:"Insulin",startingDate:"12.12.2020",endingDate:"12.12.2021",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:5,name:"Insulin",startingDate:"12.12.2020",endingDate:"12.12.2021",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"}],surgeryList:[{id:1,name:"Majezik",date:"12.12.2020",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:2,name:"Insulin",date:"12.12.2020",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:3,name:"Insulin",date:"12.12.2020",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:4,name:"Insulin",date:"12.12.2020",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"},{id:5,name:"Insulin",date:"12.12.2020",doctorComment:"Lorem ipsum dolor sit amet, consectetur adipiscing el"}],buttonTitle:"Add History",demographicContents:{Age:32,Sex:"Female",Name:"Ali",Surname:"Veli",Phone:"05555555555",Address:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},antropometricContents:{Size:"180 cm",Weight:"80 kg",BMI:"24.69",BodyMass:"Normal"},image:"",isSaving:!1,selectedDiseaseHistory:null,selectedDrugHistory:null,selectedSurgeryHistory:null,isLoading:!0,uid:""}},computed:{},methods:{...v(["getPatient"]),clickAddHistory(){console.log(this.selectedMenuItem),this.selectedMenuItem==1?this.showAddDiseaseHistoryModal=!0:this.selectedMenuItem==2?this.showAddDrugHistoryModal=!0:this.selectedMenuItem==3&&(this.showAddSurgeryHistoryModal=!0)},convertDateFormat(s){var t=new Date(s),u=t.getUTCDate(),h=t.getUTCMonth()+1,e=t.getUTCFullYear(),l=`${u}.${h}.${e}`;return l},checkEditDiseaseHistory(s,t){s&&(this.selectedDiseaseHistory=t,this.showEditDiseaseHistoryModal=!0)},checkEditDrugHistory(s,t){s&&(this.selectedDrugHistory=t,this.showEditDrugHistoryModal=!0)},checkEditSurgeryHistory(s,t){s&&(this.selectedSurgeryHistory=t,this.showEditSurgeryHistoryModal=!0)},checkDeleteDiseaseHistory(s,t){s&&(this.uid=t.uId,this.showDeleteDiseaseHistoryModal=!0)},checkDeleteDrugHistory(s,t){s&&(this.uid=t.uId,this.showDeleteDrugHistoryModal=!0)},checkDeleteSurgeryHistory(s,t){s&&(this.uid=t.uId,this.showDeleteSurgeryHistoryModal=!0)},async _getPatient(){this.isLoading=!0;const s=await this.getPatient({uid:this.id});console.log(s),this.demographicContents.Address=s.address,this.demographicContents.Age=s.age,this.demographicContents.Name=s.name,this.demographicContents.Surname=s.surname,this.demographicContents.Phone=s.phone,this.demographicContents.Sex="Male",this.antropometricContents.BMI=s.bmi,this.antropometricContents.BodyMass=s.bodyMassIndex,this.antropometricContents.Size=s.size.toString()+" cm",this.antropometricContents.Weight=s.weight.toString()+" kg",this.image=s.image,this.dieasesList=s.diseaseHistory,this.drugList=s.drugHistory,this.drugList.forEach(t=>{t.startingDate=this.convertDateFormat(t.startingDate),t.endingDate=this.convertDateFormat(t.endingDate)}),this.surgeryList=s.surgeryHistory,this.surgeryList.forEach(t=>{t.date=this.convertDateFormat(t.date)}),this.isLoading=!1}},async mounted(){this.id=this.$route.params.id,this.buttonTitle="+ Add Disease History",await this._getPatient(),console.log(this.id)},watch:{async isSaving(s){this.isSaving&&(await this._getPatient(),this.isSaving=!1)},selectedMenuItem:function(s){s==1?this.buttonTitle="+ Add Disease History":s==2?this.buttonTitle="+ Add Drug History":s==3&&(this.buttonTitle="+ Add Surgery History")}}},Cs={class:"flex flex-row items-center justify-between"},ks={class:"w-8 h-8 flex items-center justify-center"},Es=n("div",{class:"ml-4"},"Go Back",-1),Is={class:"font-semibold ml-96"},Fs={key:0,class:"flex justify-center items-center h-[500px]"},As={key:1},Vs={class:"flex flex-col gap-6"},Us={class:"flex flex-row justify-between items-center"},Ls={key:0,class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}},Ps={key:1,class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}},js={key:2,class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}};function Bs(s,t,u,h,e,l){const g=p("IconBack"),m=p("AtomSpinner"),o=p("PatientInfo"),B=p("tabBar"),T=p("DiseaseHistoryCard"),N=p("DrugHistoryCard"),O=p("SurgeryHistoryCard"),z=p("ContentPanel"),Y=p("AddDiseaseHistoryModal"),q=p("AddDrugHistoryModal"),W=p("AddSurgeryHistoryModal"),G=p("EditDiseaseHistoryModal"),K=p("EditDrugHistoryModal"),R=p("EditSurgeryHistoryModal"),J=p("DeleteDiseaseHistoryModal"),Q=p("DeleteDrugHistoryModal"),X=p("DeleteSurgeryHistoryModal");return r(),i(V,null,[d(z,null,{header:x(()=>[n("div",Cs,[n("div",{class:"flex items-center justify-center cursor-pointer",onClick:t[0]||(t[0]=c=>s.$router.go(-1))},[n("div",ks,[d(g)]),Es]),n("div",Is,y(e.title),1)])]),content:x(()=>[e.isLoading?(r(),i("div",Fs,[d(m,{color:"#BEEBE5","animation-duration":1e3})])):a("",!0),e.isLoading?a("",!0):(r(),i("div",As,[n("div",Vs,[d(o,{"antropometric-contents":e.antropometricContents,"demographic-contents":e.demographicContents,image:e.image},null,8,["antropometric-contents","demographic-contents","image"]),n("div",Us,[d(B,{onSelectedMenuItem:t[1]||(t[1]=c=>e.selectedMenuItem=c),menuList:e.historyMenuList},null,8,["menuList"]),n("button",{class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...c)=>l.clickAddHistory&&l.clickAddHistory(...c))},y(e.buttonTitle),1)])]),e.selectedMenuItem==1?(r(),i("div",Ls,[(r(!0),i(V,null,U(e.dieasesList,c=>(r(),f(T,{key:c.id,diease:c,onEdit:S=>l.checkEditDiseaseHistory(S,c),onDelete:S=>l.checkDeleteDiseaseHistory(S,c)},null,8,["diease","onEdit","onDelete"]))),128))])):a("",!0),e.selectedMenuItem==2?(r(),i("div",Ps,[(r(!0),i(V,null,U(e.drugList,c=>(r(),f(N,{key:c.id,drug:c,onEdit:S=>l.checkEditDrugHistory(S,c),onDelete:S=>l.checkDeleteDrugHistory(S,c)},null,8,["drug","onEdit","onDelete"]))),128))])):a("",!0),e.selectedMenuItem==3?(r(),i("div",js,[(r(!0),i(V,null,U(e.surgeryList,c=>(r(),f(O,{key:c.id,surgery:c,onEdit:S=>l.checkEditSurgeryHistory(S,c),onDelete:S=>l.checkDeleteSurgeryHistory(S,c)},null,8,["surgery","onEdit","onDelete"]))),128))])):a("",!0)]))]),_:1}),d(Y,{showAddDiseaseHistoryModal:e.showAddDiseaseHistoryModal,patientUID:e.id,onCloseModal:t[3]||(t[3]=c=>e.showAddDiseaseHistoryModal=!1),onIsSaving:t[4]||(t[4]=c=>e.isSaving=c)},null,8,["showAddDiseaseHistoryModal","patientUID"]),d(q,{showAddDrugHistoryModal:e.showAddDrugHistoryModal,patientUID:e.id,onCloseModal:t[5]||(t[5]=c=>e.showAddDrugHistoryModal=!1),onIsSaving:t[6]||(t[6]=c=>e.isSaving=c)},null,8,["showAddDrugHistoryModal","patientUID"]),d(W,{showAddSurgeryHistoryModal:e.showAddSurgeryHistoryModal,patientUID:e.id,onCloseModal:t[7]||(t[7]=c=>e.showAddSurgeryHistoryModal=!1),onIsSaving:t[8]||(t[8]=c=>e.isSaving=c)},null,8,["showAddSurgeryHistoryModal","patientUID"]),d(G,{showEditDiseaseHistoryModal:e.showEditDiseaseHistoryModal,selectedDiseaseHistory:e.selectedDiseaseHistory,onCloseModal:t[9]||(t[9]=c=>e.showEditDiseaseHistoryModal=!1),onIsSaving:t[10]||(t[10]=c=>e.isSaving=c)},null,8,["showEditDiseaseHistoryModal","selectedDiseaseHistory"]),d(K,{showEditDrugHistoryModal:e.showEditDrugHistoryModal,selectedDrugHistory:e.selectedDrugHistory,onCloseModal:t[11]||(t[11]=c=>e.showEditDrugHistoryModal=!1),onIsSaving:t[12]||(t[12]=c=>e.isSaving=c)},null,8,["showEditDrugHistoryModal","selectedDrugHistory"]),d(R,{showEditSurgeryHistoryModal:e.showEditSurgeryHistoryModal,selectedSurgeryHistory:e.selectedSurgeryHistory,onCloseModal:t[13]||(t[13]=c=>e.showEditSurgeryHistoryModal=!1),onIsSaving:t[14]||(t[14]=c=>e.isSaving=c)},null,8,["showEditSurgeryHistoryModal","selectedSurgeryHistory"]),d(J,{showDeleteDiseaseHistoryModal:e.showDeleteDiseaseHistoryModal,uid:e.uid,onCloseModal:t[15]||(t[15]=c=>e.showDeleteDiseaseHistoryModal=!1)},null,8,["showDeleteDiseaseHistoryModal","uid"]),d(Q,{showDeleteDrugHistoryModal:e.showDeleteDrugHistoryModal,uid:e.uid,onCloseModal:t[16]||(t[16]=c=>e.showDeleteDrugHistoryModal=!1)},null,8,["showDeleteDrugHistoryModal","uid"]),d(X,{showDeleteSurgeryHistoryModal:e.showDeleteSurgeryHistoryModal,uid:e.uid,onCloseModal:t[17]||(t[17]=c=>e.showDeleteSurgeryHistoryModal=!1)},null,8,["showDeleteSurgeryHistoryModal","uid"])],64)}const Rs=D(_s,[["render",Bs]]);export{Rs as default};
