import{C as B,A as L}from"./AtomSpinner-Sdoxd1dX.js";import{I as j,P as J,C as R}from"./Card-hPdeP_30.js";import{D as K}from"./DraggableCard-mGTa4xxx.js";import{_ as D,r as u,o as l,g as v,w as S,c as p,d as i,t as f,e as g,a as P,m as A,b as a,h as _,v as O,i as w,T as b,p as M,f as C,F as N,j as z}from"./index-pE5mnqQf.js";import{I as E,M as k}from"./Modal-faAevnTz.js";import{C as U}from"./CreateTagList-kIiiT7XI.js";import{S as I}from"./Select-C2huDAPV.js";import{I as V}from"./Input-w4Lr5OBu.js";import"./IconSearch-5qFAVXBc.js";const Y={name:"PreOpCard",components:{DraggableCard:K},props:{preOp:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},q={key:0,class:"grid grid-row-2 gap-4 items-start justify-between w-full mt-3"},G={class:"flex flex-row items-center w-full"},Q=i("div",{class:"text-sm"}," Doctor Name: ",-1),X={class:"text-sm ml-3"},Z={class:"flex flex-row items-center w-full"},$=i("div",{class:"text-sm"}," Type Of Surgery: ",-1),ee={class:"text-sm ml-3"},te={class:"flex flex-row items-center w-full"},se=i("div",{class:"text-sm"}," Patient Name: ",-1),re={class:"text-sm ml-3"};function oe(s,t,n,d,e,r){const h=u("DraggableCard");return l(),v(h,{title:n.preOp.surgeryDate,onExpand:t[0]||(t[0]=c=>e.isExpanded=c)},{default:S(()=>[e.isExpanded?(l(),p("div",q,[i("div",G,[Q,i("div",X,f(n.preOp.doctorName),1)]),i("div",Z,[$,i("div",ee,f(n.preOp.surgeryType),1)]),i("div",te,[se,i("div",re,f(n.preOp.patientName),1)])])):g("",!0)]),_:1},8,["title"])}const ie=D(Y,[["render",oe]]),le={name:"AddPreOpModal",data(){return{targetWeight:"",selectedDoctorName:"",surgeryType:"",surgeryDate:"",surgeryTypes:[{id:1,name:"Knee Replacement"},{id:2,name:"Hip Replacement"}],consultedSurgeryTypes:[],supplimentedSurgeryTypes:[],assistantDoctors:[],doctors:[],hospital:"",currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:""}},components:{InputFile:E,Modal:k,CreateTagList:U,Input:V,Select:I},props:["showAddPreOpModal","patientUID"],emits:["close-modal"],watch:{showAddPreOpModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...P(["createPreOp","getAllUsers"]),...A(["setCreatePreOpCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.targetWeight="",this.selectedDoctorName="",this.surgeryType="",this.surgeryDate="",this.consultedSurgeryTypes=[],this.supplimentedSurgeryTypes=[],this.assistantDoctors=[],this.hospital="",this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.targetWeight===""||this.selectedDoctorName===""||this.surgeryType===""||this.surgeryDate===""||this.consultedSurgeryTypes.length===0||this.supplimentedSurgeryTypes.length===0||this.assistantDoctors.length===0)&&this.showAddPreOpModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _getAllUsers(){try{this.doctors=await this.getAllUsers(),console.log(this.doctors)}catch(s){console.log(s)}},async _createPreOp(){this.isSaving=!0;let s=this.doctors.find(r=>r.name===this.selectedDoctorName).uId,t=[],n=[],d=[];for(let r=0;r<this.supplimentedSurgeryTypes.length;r++)t.push(this.supplimentedSurgeryTypes[r].name);for(let r=0;r<this.consultedSurgeryTypes.length;r++)n.push(this.consultedSurgeryTypes[r].name);for(let r=0;r<this.assistantDoctors.length;r++)d.push(this.assistantDoctors[r].name);this.setCreatePreOpCreds({targetWeight:parseInt(this.targetWeight),doctorId:s,surgeryType:this.surgeryType,surgeryDate:this.surgeryDate+"T"+new Date(this.surgeryDate).toISOString().split("T")[1],consultedSurgeryTypes:n,supplimentedSurgeryTypes:t,assistantDoctors:d,patientUID:this.patientUID});let e=await this.createPreOp();return e.status===200||e.status===201?(this.isError=!1,this.message=e.data.message,this.isSaving=!0,!0):(console.log(e),this.isError=!0,this.message=e.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createPreOp(),s&&this.currentStep++}},async mounted(){await this._getAllUsers(),this.resetForm()}},ne=s=>(M("data-v-fc2e78fe"),s=s(),C(),s),ae={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},pe={class:"flex flex-row gap-4"},de={class:"flex flex-col gap-4"},ue=ne(()=>i("div",{class:"text-black text-sm font-semibold"},"Surgery Date",-1)),ce={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},me={class:"text-center text-2xl font-semibold text-primary"},ge={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},he=["disabled"],ye={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function fe(s,t,n,d,e,r){const h=u("Input"),c=u("Select"),y=u("CreateTagList"),x=u("Modal");return l(),v(b,{to:"body"},[a(x,{title:"Add PreOp",showModal:n.showAddPreOpModal,onCloseModal:t[13]||(t[13]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:S(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[12]||(t[12]=w((...o)=>r.handleForm&&r.handleForm(...o),["prevent"]))},[e.currentStep==1?(l(),p("div",ae,[a(h,{modelValue:e.targetWeight,"onUpdate:modelValue":t[0]||(t[0]=o=>e.targetWeight=o),placeholder:"Target Weight",outline:"",error:e.isError&&e.targetWeight===""},null,8,["modelValue","error"]),a(c,{outline:"",modelValue:e.selectedDoctorName,"onUpdate:modelValue":t[1]||(t[1]=o=>e.selectedDoctorName=o),placeholder:"Select Doctor",options:e.doctors,error:e.isError&&e.selectedDoctorName===""},null,8,["modelValue","options","error"]),a(c,{outline:"",modelValue:e.surgeryType,"onUpdate:modelValue":t[2]||(t[2]=o=>e.surgeryType=o),placeholder:"Select Surgery Type",options:e.surgeryTypes,error:e.isError&&e.surgeryType===""},null,8,["modelValue","options","error"]),a(y,{modelValue:e.supplimentedSurgeryTypes,"onUpdate:modelValue":t[3]||(t[3]=o=>e.supplimentedSurgeryTypes=o),placeholder:"Supplimented Surgery Type",scrollHeight:"410px",options:e.surgeryTypes,error:e.isError&&e.supplimentedSurgeryTypes.length===0},null,8,["modelValue","options","error"]),a(y,{modelValue:e.consultedSurgeryTypes,"onUpdate:modelValue":t[4]||(t[4]=o=>e.consultedSurgeryTypes=o),placeholder:"Consulted Surgery Type",scrollHeight:"410px",options:e.surgeryTypes,error:e.isError&&e.consultedSurgeryTypes.length===0},null,8,["modelValue","options","error"]),i("div",pe,[i("div",de,[ue,a(h,{modelValue:e.surgeryDate,"onUpdate:modelValue":t[5]||(t[5]=o=>e.surgeryDate=o),type:"date",placeholder:"Surgery Date",outline:"",error:e.isError&&e.surgeryDate===""},null,8,["modelValue","error"])])]),a(y,{modelValue:e.assistantDoctors,"onUpdate:modelValue":t[6]||(t[6]=o=>e.assistantDoctors=o),placeholder:"Asistant Doctors",scrollHeight:"410px",options:e.doctors,error:e.isError&&e.assistantDoctors.length===0},null,8,["modelValue","options","error"])])):g("",!0),e.currentStep==2?(l(),p("div",ce,[i("div",me,f(e.message),1)])):g("",!0),i("div",ge,[e.currentStep!=1?(l(),p("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[7]||(t[7]=o=>e.currentStep--)}," Back ")):(l(),p("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[8]||(t[8]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?_((l(),p("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[9]||(t[9]=o=>e.isSaveHovered=!0),onMouseleave:t[10]||(t[10]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[11]||(t[11]=(...o)=>r.finish&&r.finish(...o))}," Add Pre Op ",40,he)),[[O,e.currentStep==1||e.currentStep==2]]):g("",!0),e.currentStep==2?(l(),p("button",ye," Done ")):g("",!0)])],32)]),_:1},8,["showModal"])])}const Se=D(le,[["render",fe],["__scopeId","data-v-fc2e78fe"]]),xe={name:"EditPreOpModal",data(){return{targetWeight:"",selectedDoctorName:"",surgeryType:"",surgeryDate:"",surgeryTypes:[{id:1,name:"Knee Replacement"},{id:2,name:"Hip Replacement"}],consultedSurgeryTypes:[],supplimentedSurgeryTypes:[],assistantDoctors:[],doctors:[],hospital:"",currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:""}},components:{InputFile:E,Modal:k,CreateTagList:U,Input:V,Select:I},props:["showEditPreOpModal","selectedPreOp"],emits:["close-modal"],watch:{showEditPreOpModal(s){s?(this.currentStep=1,this.resetForm()):this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1}},methods:{...P(["updatePreOp","getAllUsers"]),...A(["setUpdatePreOpCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},convertDateFormat(s){const t=s.split("."),n=new Date(`${t[2]}-${t[1]}-${t[0]}`),d=n.getFullYear(),e=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return`${d}-${e}-${r}`},resetForm(){if(this.selectedPreOp!=null){this.targetWeight=this.selectedPreOp.targetWeight,this.selectedDoctorName=this.selectedPreOp.doctorName.split(" ")[0],this.surgeryType=this.selectedPreOp.surgeryType,this.surgeryDate=this.convertDateFormat(this.selectedPreOp.surgeryDate.split("T")[0]);let s=[],t=[],n=[];this.selectedPreOp.consultedSurgeryTypes.forEach(d=>{s.push({name:d})}),this.selectedPreOp.supplimentedSurgeryTypes.forEach(d=>{t.push({name:d})}),this.selectedPreOp.assistantDoctors.forEach(d=>{n.push({name:d.split(" ")[0]})}),this.consultedSurgeryTypes=s,this.supplimentedSurgeryTypes=t,this.assistantDoctors=n}else this.targetWeight="",this.selectedDoctorName="",this.surgeryType="",this.surgeryDate="",this.consultedSurgeryTypes=[],this.supplimentedSurgeryTypes=[],this.assistantDoctors=[];this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.targetWeight===""||this.selectedDoctorName===""||this.surgeryType===""||this.surgeryDate===""||this.consultedSurgeryTypes.length===0||this.supplimentedSurgeryTypes.length===0||this.assistantDoctors.length===0)&&this.showEditPreOpModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _getAllUsers(){try{this.doctors=await this.getAllUsers()}catch(s){console.log(s)}},async _updatePreOp(){this.isSaving=!0;let s=this.doctors.find(r=>r.name===this.selectedDoctorName).uId,t=[],n=[],d=[];for(let r=0;r<this.supplimentedSurgeryTypes.length;r++)t.push(this.supplimentedSurgeryTypes[r].name);for(let r=0;r<this.consultedSurgeryTypes.length;r++)n.push(this.consultedSurgeryTypes[r].name);for(let r=0;r<this.assistantDoctors.length;r++)d.push(this.assistantDoctors[r].name);this.setUpdatePreOpCreds({targetWeight:parseInt(this.targetWeight),doctorId:s,surgeryType:this.surgeryType,surgeryDate:this.surgeryDate+"T"+new Date(this.surgeryDate).toISOString().split("T")[1],consultedSurgeryTypes:n,supplimentedSurgeryTypes:t,assistantDoctors:d});let e=await this.updatePreOp({uid:this.selectedPreOp.uId});return e.status===200||e.status===201?(this.isError=!1,this.message=e.data.message,this.isSaving=!0,!0):(this.isError=!0,this.message=e.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updatePreOp(),s&&this.currentStep++}},async mounted(){await this._getAllUsers(),this.resetForm()}},De=s=>(M("data-v-1e009ef5"),s=s(),C(),s),ve={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Pe={class:"flex flex-row gap-4"},Te={class:"flex flex-col gap-4"},_e=De(()=>i("div",{class:"text-black text-sm font-semibold"},"Surgery Date",-1)),Oe={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},we={class:"text-center text-2xl font-semibold text-primary"},be={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Me=["disabled"],Ce={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ee(s,t,n,d,e,r){const h=u("Input"),c=u("Select"),y=u("CreateTagList"),x=u("Modal");return l(),v(b,{to:"body"},[a(x,{title:"Edit PreOp",showModal:n.showEditPreOpModal,onCloseModal:t[13]||(t[13]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:S(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[12]||(t[12]=w((...o)=>r.handleForm&&r.handleForm(...o),["prevent"]))},[e.currentStep==1?(l(),p("div",ve,[a(h,{modelValue:e.targetWeight,"onUpdate:modelValue":t[0]||(t[0]=o=>e.targetWeight=o),placeholder:"Target Weight",outline:"",error:e.isError&&e.targetWeight===""},null,8,["modelValue","error"]),a(c,{outline:"",modelValue:e.selectedDoctorName,"onUpdate:modelValue":t[1]||(t[1]=o=>e.selectedDoctorName=o),placeholder:"Select Doctor",options:e.doctors,error:e.isError&&e.selectedDoctorName==="","default-selected":e.selectedDoctorName},null,8,["modelValue","options","error","default-selected"]),a(c,{outline:"",modelValue:e.surgeryType,"onUpdate:modelValue":t[2]||(t[2]=o=>e.surgeryType=o),placeholder:"Select Surgery Type",options:e.surgeryTypes,error:e.isError&&e.surgeryType==="","default-selected":e.surgeryType},null,8,["modelValue","options","error","default-selected"]),a(y,{modelValue:e.supplimentedSurgeryTypes,"onUpdate:modelValue":t[3]||(t[3]=o=>e.supplimentedSurgeryTypes=o),placeholder:"Supplimented Surgery Type",scrollHeight:"410px",options:e.surgeryTypes,"default-value":e.supplimentedSurgeryTypes,error:e.isError&&e.supplimentedSurgeryTypes.length===0},null,8,["modelValue","options","default-value","error"]),a(y,{modelValue:e.consultedSurgeryTypes,"onUpdate:modelValue":t[4]||(t[4]=o=>e.consultedSurgeryTypes=o),placeholder:"Consulted Surgery Type",scrollHeight:"410px",options:e.surgeryTypes,"default-value":e.consultedSurgeryTypes,error:e.isError&&e.consultedSurgeryTypes.length===0},null,8,["modelValue","options","default-value","error"]),i("div",Pe,[i("div",Te,[_e,a(h,{modelValue:e.surgeryDate,"onUpdate:modelValue":t[5]||(t[5]=o=>e.surgeryDate=o),type:"date",placeholder:"Surgery Date",outline:"",error:e.isError&&e.surgeryDate===""},null,8,["modelValue","error"])])]),a(y,{modelValue:e.assistantDoctors,"onUpdate:modelValue":t[6]||(t[6]=o=>e.assistantDoctors=o),placeholder:"Asistant Doctors",scrollHeight:"410px",options:e.doctors,error:e.isError&&e.assistantDoctors.length===0,"default-value":e.assistantDoctors},null,8,["modelValue","options","error","default-value"])])):g("",!0),e.currentStep==2?(l(),p("div",Oe,[i("div",we,f(e.message),1)])):g("",!0),i("div",be,[e.currentStep!=1?(l(),p("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[7]||(t[7]=o=>e.currentStep--)}," Back ")):(l(),p("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[8]||(t[8]=o=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?_((l(),p("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:t[9]||(t[9]=o=>e.isSaveHovered=!0),onMouseleave:t[10]||(t[10]=o=>e.isSaveHovered=!1),disabled:e.isError,onClick:t[11]||(t[11]=(...o)=>r.finish&&r.finish(...o))}," Edit Pre Op ",40,Me)),[[O,e.currentStep==1||e.currentStep==2]]):g("",!0),e.currentStep==2?(l(),p("button",Ce," Done ")):g("",!0)])],32)]),_:1},8,["showModal"])])}const ke=D(xe,[["render",Ee],["__scopeId","data-v-1e009ef5"]]),Ie={name:"DeletePreOpModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:E,Modal:k,Input:V,Select:I},props:["showDeletePreOpModal","uid"],emits:["close-modal"],computed:{},watch:{showDeletePreOpModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...P(["deletePreOp"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deletePreOp(){this.isSaving=!0;let s=await this.deletePreOp({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deletePreOp(),s&&this.currentStep++}},async mounted(){this.resetForm()}},Ve=s=>(M("data-v-71e845d9"),s=s(),C(),s),Ne={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Ae=Ve(()=>i("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this Pre-Op? ",-1)),Ue=[Ae],Fe={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},He={class:"text-center text-2xl font-semibold text-primary"},We={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Be={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Le(s,t,n,d,e,r){const h=u("Modal");return l(),v(b,{to:"body"},[a(h,{title:"Delete Pre-Op",showModal:n.showDeletePreOpModal,onCloseModal:t[4]||(t[4]=c=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:S(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:t[3]||(t[3]=w((...c)=>r.handleForm&&r.handleForm(...c),["prevent"]))},[e.currentStep==1?(l(),p("div",Ne,Ue)):g("",!0),e.currentStep==2?(l(),p("div",Fe,[i("div",He,f(e.message),1)])):g("",!0),i("div",We,[e.currentStep!=1?(l(),p("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[0]||(t[0]=c=>e.currentStep--)}," Back ")):(l(),p("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:t[1]||(t[1]=c=>s.$emit("close-modal"))}," Cancel ")),e.currentStep!=2?_((l(),p("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...c)=>r.finish&&r.finish(...c))}," Delete ",512)),[[O,e.currentStep==1||e.currentStep==2]]):g("",!0),e.currentStep==2?(l(),p("button",Be," Done ")):g("",!0)])],32)]),_:1},8,["showModal"])])}const je=D(Ie,[["render",Le],["__scopeId","data-v-71e845d9"]]),Je={name:"PatientPreop",components:{ContentPanel:B,IconBack:j,PatientInfo:J,Card:R,PreOpCard:ie,AddPreOpModal:Se,EditPreOpModal:ke,DeletePreOpModal:je,AtomSpinner:L},props:{},data(){return{id:this.$route.params.id,title:"PRE-OP",selectedMenuItem:1,showAddPreOpModal:!1,showEditPreOpModal:!1,showDeletePreOpModal:!1,selectedPreOp:null,uid:null,doctor:"Dr. John Doe",preOpList:[{id:1,surgeryDate:"12.12.2020",doctorName:"Dr. John Doe",surgeryType:"Knee Replacement",patientName:"Jane Doe"},{id:2,surgeryDate:"12.12.2020",doctorName:"Dr. John Doe",surgeryType:"Knee Replacement",patientName:"Jane Doe"},{id:3,surgeryDate:"12.12.2020",doctorName:"Dr. John Doe",surgeryType:"Knee Replacement",patientName:"Jane Doe"},{id:4,surgeryDate:"12.12.2020",doctorName:"Dr. John Doe",surgeryType:"Knee Replacement",patientName:"Jane Doe"},{id:5,surgeryDate:"12.12.2020",doctorName:"Dr. John Doe",surgeryType:"Knee Replacement",patientName:"Jane Doe"}],demographicContents:{Age:32,Sex:"Female",Name:"Ali",Surname:"Veli",Phone:"05555555555",Address:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},antropometricContents:{Size:"180 cm",Weight:"80 kg",BMI:"24.69",BodyMass:"Normal"},image:"",isSaving:!1,isLoading:!0}},computed:{},methods:{...P(["getPatient","getUser"]),convertDateFormat(s){var t=new Date(s),n=t.getUTCDate(),d=t.getUTCMonth()+1,e=t.getUTCFullYear(),r=`${n}.${d}.${e}`;return r},checkEdit(s,t){s&&(this.selectedPreOp=t,this.showEditPreOpModal=!0)},checkDelete(s,t){s&&(this.uid=t.uId,this.showDeletePreOpModal=!0)},async _getPatient(){this.isLoading=!0;const s=await this.getPatient({uid:this.id});console.log(s),this.demographicContents.Address=s.address,this.demographicContents.Age=s.age,this.demographicContents.Name=s.name,this.demographicContents.Surname=s.surname,this.demographicContents.Phone=s.phone,this.demographicContents.Sex="Male",this.antropometricContents.BMI=s.bmi,this.antropometricContents.BodyMass=s.bodyMassIndex,this.antropometricContents.Size=s.size.toString()+" cm",this.antropometricContents.Weight=s.weight.toString()+" kg",this.image=s.image,this.preOpList=s.preOps,this.preOpList.length>0&&this.preOpList.forEach(async t=>{t.surgeryDate=this.convertDateFormat(t.surgeryDate),this.doctor=await this.getUser({uid:t.doctorId}),t.doctorName=this.doctor.name+" "+this.doctor.surname,t.patientName=this.demographicContents.Name+" "+this.demographicContents.Surname}),this.isLoading=!1}},watch:{async isSaving(s){this.isSaving&&(await this._getPatient(),this.isSaving=!1)}},async mounted(){this.id=this.$route.params.id,await this._getPatient(),console.log(this.id)}},Re={class:"flex flex-row items-center justify-between"},Ke={class:"w-8 h-8 flex items-center justify-center"},ze=i("div",{class:"ml-4"},"Go Back",-1),Ye={class:"font-semibold ml-96"},qe={key:0,class:"flex justify-center items-center h-[500px]"},Ge={key:1},Qe={class:"flex flex-col gap-6"},Xe={class:"flex flex-row justify-end items-center"},Ze={class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}};function $e(s,t,n,d,e,r){const h=u("IconBack"),c=u("AtomSpinner"),y=u("PatientInfo"),x=u("PreOpCard"),o=u("ContentPanel"),F=u("AddPreOpModal"),H=u("EditPreOpModal"),W=u("DeletePreOpModal");return l(),p(N,null,[a(o,null,{header:S(()=>[i("div",Re,[i("div",{class:"flex items-center justify-center cursor-pointer",onClick:t[0]||(t[0]=m=>s.$router.go(-1))},[i("div",Ke,[a(h)]),ze]),i("div",Ye,f(e.title),1)])]),content:S(()=>[e.isLoading?(l(),p("div",qe,[a(c,{color:"#BEEBE5","animation-duration":1e3})])):g("",!0),e.isLoading?g("",!0):(l(),p("div",Ge,[i("div",Qe,[a(y,{"antropometric-contents":e.antropometricContents,"demographic-contents":e.demographicContents,image:e.image},null,8,["antropometric-contents","demographic-contents","image"]),i("div",Xe,[i("button",{class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[1]||(t[1]=m=>e.showAddPreOpModal=!0)},"+ Add Pre-Op")])]),i("div",Ze,[(l(!0),p(N,null,z(e.preOpList,m=>(l(),v(x,{key:m.id,preOp:m,doctor:e.doctor,onEdit:T=>r.checkEdit(T,m),onDelete:T=>r.checkDelete(T,m)},null,8,["preOp","doctor","onEdit","onDelete"]))),128))])]))]),_:1}),a(F,{showAddPreOpModal:e.showAddPreOpModal,patientUID:e.id,onCloseModal:t[2]||(t[2]=m=>e.showAddPreOpModal=!1),onIsSaving:t[3]||(t[3]=m=>e.isSaving=m)},null,8,["showAddPreOpModal","patientUID"]),a(H,{showEditPreOpModal:e.showEditPreOpModal,patientUID:e.id,selectedPreOp:e.selectedPreOp,onCloseModal:t[4]||(t[4]=m=>e.showEditPreOpModal=!1),onIsSaving:t[5]||(t[5]=m=>e.isSaving=m)},null,8,["showEditPreOpModal","patientUID","selectedPreOp"]),a(W,{showDeletePreOpModal:e.showDeletePreOpModal,uid:e.uid,onCloseModal:t[6]||(t[6]=m=>e.showDeletePreOpModal=!1),onIsSaving:t[7]||(t[7]=m=>e.isSaving=m)},null,8,["showDeletePreOpModal","uid"])],64)}const pt=D(Je,[["render",$e]]);export{pt as default};
