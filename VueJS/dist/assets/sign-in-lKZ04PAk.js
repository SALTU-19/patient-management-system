import{I as c}from"./Input-w4Lr5OBu.js";import{_ as g,m as p,a as m,r as u,o as l,c as r,b as d,d as a,t as f,e as h,p as I,f as w}from"./index-pE5mnqQf.js";import"./IconSearch-5qFAVXBc.js";const x={components:{Input:c},data(){return{signIn:{email:"",password:""},isUserLoggedIn:!0,message:"",showPassword:!1}},created(){localStorage.clear()},methods:{...p(["setLoginCreds"]),...m(["login"]),togglePasswordVisibility(){this.showPassword=!this.showPassword},async _login(){this.setLoginCreds({email:this.signIn.email,password:this.signIn.password}),await this.login().then(s=>{console.log(s),s.status==200||s.status==201?(this.isUserLoggedIn=!0,this.message=s.data.message[0],this.userObj=s.data.data.decodedUserModel,localStorage.setItem("user",JSON.stringify(this.userObj)),localStorage.setItem("accessToken",s.data.data.accessToken)):(this.isUserLoggedIn=!1,this.message=s.data.message[0])}).catch(s=>{this.isUserLoggedIn=!1,this.message="Something went wrong"}),this.isUserLoggedIn&&this.$router.push("/")}}},_=s=>(I("data-v-899db3f8"),s=s(),w(),s),y={class:"flex flex-col gap-5 justify-center w-1/2"},b=_(()=>a("div",{class:"flex justify-center"},[a("h3",{class:"text-3xl font-medium text-black"},"Sign In")],-1)),k={class:"flex justify-center"},S={key:0,class:"flex flex-col justify-center"},V={class:"flex justify-center text-sm font-semibold text-primary",style:{color:"red"}};function L(s,t,U,v,e,n){const i=u("Input");return l(),r("div",y,[b,d(i,{modelValue:e.signIn.email,"onUpdate:modelValue":t[0]||(t[0]=o=>e.signIn.email=o),placeholder:"E-mail",type:"email",class:"!pr-0 text-black",outline:""},null,8,["modelValue"]),d(i,{modelValue:e.signIn.password,"onUpdate:modelValue":t[1]||(t[1]=o=>e.signIn.password=o),placeholder:"Password",type:e.showPassword?"text":"password",class:"!pr-0 text-black !font-verdana !tracking-wider",outline:""},null,8,["modelValue","type"]),a("div",k,[a("button",{class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:t[2]||(t[2]=(...o)=>n._login&&n._login(...o))},"Login")]),e.isUserLoggedIn?h("",!0):(l(),r("div",S,[a("span",V,f(e.message),1)]))])}const N=g(x,[["render",L],["__scopeId","data-v-899db3f8"]]);export{N as default};
