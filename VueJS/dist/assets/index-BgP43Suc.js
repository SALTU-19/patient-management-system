import{C as ee,A as te}from"./AtomSpinner-Sdoxd1dX.js";import{I as se,P as ie,C as oe}from"./Card-hPdeP_30.js";import{t as re}from"./tabBar-f7aDZj6h.js";import{D as q}from"./DraggableCard-mGTa4xxx.js";import{_ as x,r as m,o as r,g as v,w,c as n,d as i,t as y,e as u,a as H,m as L,b as a,F as S,j as k,h as C,v as M,i as P,T as D,p as E,f as F}from"./index-pE5mnqQf.js";import{I as A,M as U,a as N}from"./Modal-faAevnTz.js";import{C as W}from"./CreateTagList-kIiiT7XI.js";import{S as T}from"./Select-C2huDAPV.js";import{I as B}from"./Input-w4Lr5OBu.js";import"./IconSearch-5qFAVXBc.js";const le={name:"PeriodicVisitHistoryCard",components:{DraggableCard:q},props:{periodicVisit:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},ne={key:0,class:"grid grid-row-2 gap-4 items-start justify-between w-full mt-3"},de={class:"flex flex-row items-center w-full"},ae=i("div",{class:"text-sm"}," Date: ",-1),ce={class:"text-sm ml-3"},me={class:"flex flex-row items-center w-full"},ue=i("div",{class:"text-sm"}," Status: ",-1),he={class:"text-sm ml-3"};function pe(s,e,d,p,t,l){const c=m("DraggableCard");return r(),v(c,{title:d.periodicVisit.month,onExpand:e[0]||(e[0]=g=>t.isExpanded=g)},{default:w(()=>[t.isExpanded?(r(),n("div",ne,[i("div",de,[ae,i("div",ce,y(d.periodicVisit.date),1)]),i("div",me,[ue,i("div",he,y(d.periodicVisit.status),1)])])):u("",!0)]),_:1},8,["title"])}const ge=x(le,[["render",pe]]),fe={name:"IrregularVisitHistoryCard",components:{DraggableCard:q},props:{irregularVisit:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{},mounted(){}},ye={key:0,class:"grid grid-row-2 gap-4 items-start justify-between w-full mt-3"},xe={class:"flex flex-row items-center w-full"},ve=i("div",{class:"text-sm"}," Date: ",-1),we={class:"text-sm ml-3"},Ie={class:"flex flex-row items-center w-full"},be=i("div",{class:"text-sm"}," Status: ",-1),_e={class:"text-sm ml-3"};function Ve(s,e,d,p,t,l){const c=m("DraggableCard");return r(),v(c,{title:d.irregularVisit.date,onExpand:e[0]||(e[0]=g=>t.isExpanded=g)},{default:w(()=>[t.isExpanded?(r(),n("div",ye,[i("div",xe,[ve,i("div",we,y(d.irregularVisit.date),1)]),i("div",Ie,[be,i("div",_e,y(d.irregularVisit.status),1)])])):u("",!0)]),_:1},8,["title"])}const Se=x(fe,[["render",Ve]]),He=[{id:1,name:"Periodic Visits"},{id:2,name:"Irregular Visits"}],ke={name:"PdfFile",props:{initialBase64:{type:String,default:""}},methods:{async handlePDFUpload(s){const e=s.target.files[0];if(e){const d=await this.convertToBase64(e);this.newPdf={name:e.name,base64:d},this.$emit("new-pdf",this.newPdf)}},async convertToBase64(s){return new Promise((e,d)=>{const p=new FileReader;p.onload=()=>{e(p.result.split(",")[1])},p.onerror=t=>{d(t)},p.readAsDataURL(s)})},downloadPDF(){if(this.newPdf){const s=`data:application/pdf;base64,${this.newPdf.base64}`,e=document.createElement("a");e.href=s,e.download=this.newPdf.name,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},data(){return{newPdf:{name:"",base64:this.initialBase64||""}}},emits:["new-pdf"],mounted(){}},Ce=["disabled"];function Me(s,e,d,p,t,l){return r(),n("div",null,[i("input",{type:"file",onChange:e[0]||(e[0]=(...c)=>l.handlePDFUpload&&l.handlePDFUpload(...c)),accept:"application/pdf"},null,32),i("button",{class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:e[1]||(e[1]=(...c)=>l.downloadPDF&&l.downloadPDF(...c)),disabled:t.newPdf.base64==""},"Download PDF",8,Ce)])}const $=x(ke,[["render",Me]]),Pe={name:"ImageFile",props:{},methods:{handleFileChange(s){const e=s.target.files[0],d=new FileReader;d.readAsDataURL(e),d.onload=()=>{this.resizeImage(d.result)}},resizeImage(s){const e=new Image;e.src=s,e.onload=()=>{const d=e.width/e.height;let p=e.width,t=e.height;p>this.maxWidth&&(p=this.maxWidth,t=p/d),t>this.maxHeight&&(t=this.maxHeight,p=t*d);const l=document.createElement("canvas"),c=l.getContext("2d");l.width=p,l.height=t,c.drawImage(e,0,0,p,t),this.newImage=l.toDataURL("image/jpeg"),this.$emit("new-image",this.newImage)}}},emits:["new-image"],mounted(){}};function De(s,e,d,p,t,l){return r(),n("div",null,[i("input",{type:"file",onChange:e[0]||(e[0]=(...c)=>l.handleFileChange&&l.handleFileChange(...c)),accept:"image/*"},null,32)])}const O=x(Pe,[["render",De]]),Ee={name:"AddPeriodicVisitHistoryModal",data(){return{vki:"",ewl:"",doctorComment:"",date:"",bloodSituation:null,newImage:null,currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:"",patientImages:[]}},components:{InputFile:A,Modal:U,CreateTagList:W,Input:B,Select:T,PdfFile:$,ImageFile:O,IconTrash:N},props:["showAddPeriodicVisitHistoryModal","patientUID"],emits:["close-modal"],watch:{showAddPeriodicVisitHistoryModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1},newImage(s){s&&this.patientImages.push(s)}},methods:{...H(["createPeriodicVisitHistory"]),...L(["setCreatePeriodicVisitHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.vki="",this.ewl="",this.doctorComment="",this.date="",this.bloodSituation=null,this.patientImages=[],this.newImage=null,this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.vki===""||this.ewl===""||this.doctorComment===""||this.date==="")&&this.showAddPeriodicVisitHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _createPeriodicVisitHistory(){this.isSaving=!0,this.setCreatePeriodicVisitHistoryCreds({vki:parseInt(this.vki),ewl:parseInt(this.ewl),doctorComment:this.doctorComment,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],img:this.patientImages,bloadSituation:this.bloodSituation.base64,patientUID:this.patientUID});let s=await this.createPeriodicVisitHistory();return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createPeriodicVisitHistory(),s&&this.currentStep++},flushImage(s){this.patientImages.splice(s,1)}},async mounted(){this.resetForm()}},R=s=>(E("data-v-367c0cb0"),s=s(),F(),s),Fe={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Ae={class:"flex flex-row gap-4"},Ue={class:"flex flex-row gap-4"},Te=R(()=>i("div",{class:"text-black text-sm font-semibold"},"Date",-1)),Be={class:"flex flex-row gap-4"},je={class:"flex flex-col gap-4"},Le=R(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload Blood Situation (PDF)",-1)),Ne={class:"flex flex-row gap-4"},We={class:"flex flex-col gap-4"},$e=R(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload User Images",-1)),Oe={key:0},Re=R(()=>i("div",{class:"text-black text-sm font-semibold"},"Added Images",-1)),ze={class:"flex flex-row gap-4"},Ke=["onClick"],Ye=["src"],qe={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Ge={class:"text-center text-2xl font-semibold text-primary"},Je={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Qe=["disabled"],Xe={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ze(s,e,d,p,t,l){const c=m("Input"),g=m("PdfFile"),I=m("ImageFile"),b=m("IconTrash"),_=m("Modal");return r(),v(D,{to:"body"},[a(_,{title:"Add Periodic Visit History",showModal:d.showAddPeriodicVisitHistoryModal,onCloseModal:e[12]||(e[12]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[11]||(e[11]=P((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[t.currentStep==1?(r(),n("div",Fe,[i("div",Ae,[a(c,{modelValue:t.vki,"onUpdate:modelValue":e[0]||(e[0]=o=>t.vki=o),placeholder:"VKI",outline:"",error:t.isError&&t.vki===""},null,8,["modelValue","error"]),a(c,{modelValue:t.ewl,"onUpdate:modelValue":e[1]||(e[1]=o=>t.ewl=o),placeholder:"EWL",outline:"",error:t.isError&&t.ewl===""},null,8,["modelValue","error"])]),i("div",Ue,[Te,a(c,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=o=>t.date=o),type:"date",placeholder:"Date",outline:"",error:t.isError&&t.date===""},null,8,["modelValue","error"])]),a(c,{modelValue:t.doctorComment,"onUpdate:modelValue":e[3]||(e[3]=o=>t.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:t.isError&&t.doctorComment===""},null,8,["modelValue","error"]),i("div",Be,[i("div",je,[Le,a(g,{class:"mx-auto",onNewPdf:e[4]||(e[4]=o=>t.bloodSituation=o)})])]),i("div",Ne,[i("div",We,[$e,a(I,{class:"mx-auto",onNewImage:e[5]||(e[5]=o=>t.newImage=o)})])]),t.patientImages.length>0?(r(),n("div",Oe,[Re,i("div",ze,[(r(!0),n(S,null,k(t.patientImages,(o,f)=>(r(),n("div",{key:f,class:"flex flex-col gap-4"},[i("button",{class:"flex justify-center items-center ml-28 w-3 h-3",onClick:j=>l.flushImage(f),type:"button"},[a(b)],8,Ke),i("img",{src:o,alt:"Added Image",class:"mx-auto",style:{"max-width":"100px","max-height":"100px"}},null,8,Ye)]))),128))])])):u("",!0)])):u("",!0),t.currentStep==2?(r(),n("div",qe,[i("div",Ge,y(t.message),1)])):u("",!0),i("div",Je,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[6]||(e[6]=o=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[7]||(e[7]=o=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:e[8]||(e[8]=o=>t.isSaveHovered=!0),onMouseleave:e[9]||(e[9]=o=>t.isSaveHovered=!1),disabled:t.isError,onClick:e[10]||(e[10]=(...o)=>l.finish&&l.finish(...o))}," Add ",40,Qe)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",Xe," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const et=x(Ee,[["render",Ze],["__scopeId","data-v-367c0cb0"]]),tt={name:"EditPeriodicVisitHistoryModal",data(){return{vki:"",ewl:"",doctorComment:"",date:"",bloodSituation:null,newImage:null,currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:"",patientImages:[]}},components:{InputFile:A,Modal:U,CreateTagList:W,Input:B,Select:T,PdfFile:$,ImageFile:O,IconTrash:N},props:["showEditPeriodicVisitHistoryModal","selectedPeriodicVisitHistory"],emits:["close-modal"],watch:{showEditPeriodicVisitHistoryModal(s){s?(this.currentStep=1,this.resetForm()):this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1},newImage(s){s&&this.patientImages.push(s)}},methods:{...H(["updatePeriodicVisitHistory"]),...L(["setUpdatePeriodicVisitHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},convertDateFormat(s){const e=s.split("."),d=new Date(`${e[2]}-${e[1]}-${e[0]}`),p=d.getFullYear(),t=(d.getMonth()+1).toString().padStart(2,"0"),l=d.getDate().toString().padStart(2,"0");return`${p}-${t}-${l}`},resetForm(){this.selectedPeriodicVisitHistory!=null?(this.vki=this.selectedPeriodicVisitHistory.vki,this.ewl=this.selectedPeriodicVisitHistory.ewl,this.doctorComment=this.selectedPeriodicVisitHistory.doctorComment,this.date=this.convertDateFormat(this.selectedPeriodicVisitHistory.date),this.bloodSituation={base64:this.selectedPeriodicVisitHistory.bloadSituation,name:"bloodSituation"},this.patientImages=this.selectedPeriodicVisitHistory.img,this.newImage=null):(this.vki="",this.ewl="",this.doctorComment="",this.date="",this.bloodSituation=null,this.patientImages=[],this.newImage=null),this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.vki===""||this.ewl===""||this.doctorComment===""||this.date==="")&&this.showEditPeriodicVisitHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _updatePeriodicVisitHistory(){this.isSaving=!0,this.setUpdatePeriodicVisitHistoryCreds({vki:parseInt(this.vki),ewl:parseInt(this.ewl),doctorComment:this.doctorComment,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],img:this.patientImages,bloadSituation:this.bloodSituation.base64});let s=await this.updatePeriodicVisitHistory({uid:this.selectedPeriodicVisitHistory.uId});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updatePeriodicVisitHistory(),s&&this.currentStep++},flushImage(s){this.patientImages.splice(s,1)}},async mounted(){this.resetForm()}},z=s=>(E("data-v-4d570dac"),s=s(),F(),s),st={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},it={class:"flex flex-row gap-4"},ot={class:"flex flex-row gap-4"},rt=z(()=>i("div",{class:"text-black text-sm font-semibold"},"Date",-1)),lt={class:"flex flex-row gap-4"},nt={class:"flex flex-col gap-4"},dt=z(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload Blood Situation (PDF)",-1)),at={class:"flex flex-row gap-4"},ct={class:"flex flex-col gap-4"},mt=z(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload User Images",-1)),ut={key:0},ht=z(()=>i("div",{class:"text-black text-sm font-semibold"},"Edited Images",-1)),pt={class:"flex flex-row gap-4"},gt=["onClick"],ft=["src"],yt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},xt={class:"text-center text-2xl font-semibold text-primary"},vt={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},wt=["disabled"],It={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function bt(s,e,d,p,t,l){const c=m("Input"),g=m("PdfFile"),I=m("ImageFile"),b=m("IconTrash"),_=m("Modal");return r(),v(D,{to:"body"},[a(_,{title:"Edit Periodic Visit History",showModal:d.showEditPeriodicVisitHistoryModal,onCloseModal:e[12]||(e[12]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[11]||(e[11]=P((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[t.currentStep==1?(r(),n("div",st,[i("div",it,[a(c,{modelValue:t.vki,"onUpdate:modelValue":e[0]||(e[0]=o=>t.vki=o),placeholder:"VKI",outline:"",error:t.isError&&t.vki===""},null,8,["modelValue","error"]),a(c,{modelValue:t.ewl,"onUpdate:modelValue":e[1]||(e[1]=o=>t.ewl=o),placeholder:"EWL",outline:"",error:t.isError&&t.ewl===""},null,8,["modelValue","error"])]),i("div",ot,[rt,a(c,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=o=>t.date=o),type:"date",placeholder:"Date",outline:"",error:t.isError&&t.date===""},null,8,["modelValue","error"])]),a(c,{modelValue:t.doctorComment,"onUpdate:modelValue":e[3]||(e[3]=o=>t.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:t.isError&&t.doctorComment===""},null,8,["modelValue","error"]),i("div",lt,[i("div",nt,[dt,a(g,{class:"mx-auto",onNewPdf:e[4]||(e[4]=o=>t.bloodSituation=o),"initial-base64":t.bloodSituation.base64},null,8,["initial-base64"])])]),i("div",at,[i("div",ct,[mt,a(I,{class:"mx-auto",onNewImage:e[5]||(e[5]=o=>t.newImage=o)})])]),t.patientImages.length>0?(r(),n("div",ut,[ht,i("div",pt,[(r(!0),n(S,null,k(t.patientImages,(o,f)=>(r(),n("div",{key:f,class:"flex flex-col gap-4"},[i("button",{class:"flex justify-center items-center ml-28 w-3 h-3",onClick:j=>l.flushImage(f),type:"button"},[a(b)],8,gt),i("img",{src:o,alt:"Edited Image",class:"mx-auto",style:{"max-width":"100px","max-height":"100px"}},null,8,ft)]))),128))])])):u("",!0)])):u("",!0),t.currentStep==2?(r(),n("div",yt,[i("div",xt,y(t.message),1)])):u("",!0),i("div",vt,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[6]||(e[6]=o=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[7]||(e[7]=o=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:e[8]||(e[8]=o=>t.isSaveHovered=!0),onMouseleave:e[9]||(e[9]=o=>t.isSaveHovered=!1),disabled:t.isError,onClick:e[10]||(e[10]=(...o)=>l.finish&&l.finish(...o))}," Edit ",40,wt)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",It," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const _t=x(tt,[["render",bt],["__scopeId","data-v-4d570dac"]]),Vt={name:"DeletePeriodicVisitHistoryModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:A,Modal:U,Input:B,Select:T},props:["showDeletePeriodicVisitHistoryModal","uid"],emits:["close-modal"],computed:{},watch:{showDeletePeriodicVisitHistoryModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...H(["deletePeriodicVisitHistory"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deletePeriodicVisitHistory(){this.isSaving=!0;let s=await this.deletePeriodicVisitHistory({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deletePeriodicVisitHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},St=s=>(E("data-v-215d15fa"),s=s(),F(),s),Ht={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},kt=St(()=>i("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this Periodic Visit History? ",-1)),Ct=[kt],Mt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Pt={class:"text-center text-2xl font-semibold text-primary"},Dt={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Et={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ft(s,e,d,p,t,l){const c=m("Modal");return r(),v(D,{to:"body"},[a(c,{title:"Delete Periodic Visit History",showModal:d.showDeletePeriodicVisitHistoryModal,onCloseModal:e[4]||(e[4]=g=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[3]||(e[3]=P((...g)=>l.handleForm&&l.handleForm(...g),["prevent"]))},[t.currentStep==1?(r(),n("div",Ht,Ct)):u("",!0),t.currentStep==2?(r(),n("div",Mt,[i("div",Pt,y(t.message),1)])):u("",!0),i("div",Dt,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[0]||(e[0]=g=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[1]||(e[1]=g=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:e[2]||(e[2]=(...g)=>l.finish&&l.finish(...g))}," Delete ",512)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",Et," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const At=x(Vt,[["render",Ft],["__scopeId","data-v-215d15fa"]]),Ut={name:"AddIrregularVisitHistoryModal",data(){return{vki:"",ewl:"",doctorComment:"",date:"",bloodSituation:null,newImage:null,currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:"",patientImages:[]}},components:{InputFile:A,Modal:U,CreateTagList:W,Input:B,Select:T,PdfFile:$,ImageFile:O,IconTrash:N},props:["showAddIrregularVisitHistoryModal","patientUID"],emits:["close-modal"],watch:{showAddIrregularVisitHistoryModal(s){s?this.currentStep=1:this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1},newImage(s){s&&this.patientImages.push(s)}},methods:{...H(["createIrregularVisitHistory"]),...L(["setCreateIrregularVisitHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.vki="",this.ewl="",this.doctorComment="",this.date="",this.bloodSituation=null,this.patientImages=[],this.newImage=null,this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.vki===""||this.ewl===""||this.doctorComment===""||this.date==="")&&this.showAddIrregularVisitHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _createIrregularVisitHistory(){this.isSaving=!0,this.setCreateIrregularVisitHistoryCreds({vki:parseInt(this.vki),ewl:parseInt(this.ewl),doctorComment:this.doctorComment,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],img:this.patientImages,bloadSituation:this.bloodSituation.base64,patientUID:this.patientUID});let s=await this.createIrregularVisitHistory();return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._createIrregularVisitHistory(),s&&this.currentStep++},flushImage(s){this.patientImages.splice(s,1)}},async mounted(){this.resetForm()}},K=s=>(E("data-v-088d0245"),s=s(),F(),s),Tt={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},Bt={class:"flex flex-row gap-4"},jt={class:"flex flex-row gap-4"},Lt=K(()=>i("div",{class:"text-black text-sm font-semibold"},"Date",-1)),Nt={class:"flex flex-row gap-4"},Wt={class:"flex flex-col gap-4"},$t=K(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload Blood Situation (PDF)",-1)),Ot={class:"flex flex-row gap-4"},Rt={class:"flex flex-col gap-4"},zt=K(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload User Images",-1)),Kt={key:0},Yt=K(()=>i("div",{class:"text-black text-sm font-semibold"},"Added Images",-1)),qt={class:"flex flex-row gap-4"},Gt=["onClick"],Jt=["src"],Qt={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Xt={class:"text-center text-2xl font-semibold text-primary"},Zt={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},es=["disabled"],ts={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function ss(s,e,d,p,t,l){const c=m("Input"),g=m("PdfFile"),I=m("ImageFile"),b=m("IconTrash"),_=m("Modal");return r(),v(D,{to:"body"},[a(_,{title:"Add Irregular Visit History",showModal:d.showAddIrregularVisitHistoryModal,onCloseModal:e[12]||(e[12]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[11]||(e[11]=P((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[t.currentStep==1?(r(),n("div",Tt,[i("div",Bt,[a(c,{modelValue:t.vki,"onUpdate:modelValue":e[0]||(e[0]=o=>t.vki=o),placeholder:"VKI",outline:"",error:t.isError&&t.vki===""},null,8,["modelValue","error"]),a(c,{modelValue:t.ewl,"onUpdate:modelValue":e[1]||(e[1]=o=>t.ewl=o),placeholder:"EWL",outline:"",error:t.isError&&t.ewl===""},null,8,["modelValue","error"])]),i("div",jt,[Lt,a(c,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=o=>t.date=o),type:"date",placeholder:"Date",outline:"",error:t.isError&&t.date===""},null,8,["modelValue","error"])]),a(c,{modelValue:t.doctorComment,"onUpdate:modelValue":e[3]||(e[3]=o=>t.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:t.isError&&t.doctorComment===""},null,8,["modelValue","error"]),i("div",Nt,[i("div",Wt,[$t,a(g,{class:"mx-auto",onNewPdf:e[4]||(e[4]=o=>t.bloodSituation=o)})])]),i("div",Ot,[i("div",Rt,[zt,a(I,{class:"mx-auto",onNewImage:e[5]||(e[5]=o=>t.newImage=o)})])]),t.patientImages.length>0?(r(),n("div",Kt,[Yt,i("div",qt,[(r(!0),n(S,null,k(t.patientImages,(o,f)=>(r(),n("div",{key:f,class:"flex flex-col gap-4"},[i("button",{class:"flex justify-center items-center ml-28 w-3 h-3",onClick:j=>l.flushImage(f),type:"button"},[a(b)],8,Gt),i("img",{src:o,alt:"Added Image",class:"mx-auto",style:{"max-width":"100px","max-height":"100px"}},null,8,Jt)]))),128))])])):u("",!0)])):u("",!0),t.currentStep==2?(r(),n("div",Qt,[i("div",Xt,y(t.message),1)])):u("",!0),i("div",Zt,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[6]||(e[6]=o=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[7]||(e[7]=o=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:e[8]||(e[8]=o=>t.isSaveHovered=!0),onMouseleave:e[9]||(e[9]=o=>t.isSaveHovered=!1),disabled:t.isError,onClick:e[10]||(e[10]=(...o)=>l.finish&&l.finish(...o))}," Add ",40,es)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",ts," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const is=x(Ut,[["render",ss],["__scopeId","data-v-088d0245"]]),os={name:"EditIrregularVisitHistoryModal",data(){return{vki:"",ewl:"",doctorComment:"",date:"",bloodSituation:null,newImage:null,currentStep:1,isSaveHovered:!1,isSaving:!1,isError:!1,message:"",patientImages:[]}},components:{InputFile:A,Modal:U,CreateTagList:W,Input:B,Select:T,PdfFile:$,ImageFile:O,IconTrash:N},props:["showEditIrregularVisitHistoryModal","selectedIrregularVisitHistory"],emits:["close-modal"],watch:{showEditIrregularVisitHistoryModal(s){s?(this.currentStep=1,this.resetForm()):this.resetForm()},isSaveHovered(){this.isSaveHovered?this.controlFields():this.isError=!1},newImage(s){s&&this.patientImages.push(s)}},methods:{...H(["updateIrregularVisitHistory"]),...L(["setUpdateIrregularVisitHistoryCreds"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},convertDateFormat(s){const e=s.split("."),d=new Date(`${e[2]}-${e[1]}-${e[0]}`),p=d.getFullYear(),t=(d.getMonth()+1).toString().padStart(2,"0"),l=d.getDate().toString().padStart(2,"0");return`${p}-${t}-${l}`},resetForm(){this.selectedIrregularVisitHistory!=null?(this.vki=this.selectedIrregularVisitHistory.vki,this.ewl=this.selectedIrregularVisitHistory.ewl,this.doctorComment=this.selectedIrregularVisitHistory.doctorComment,this.date=this.convertDateFormat(this.selectedIrregularVisitHistory.date),this.bloodSituation={base64:this.selectedIrregularVisitHistory.bloadSituation,name:"bloodSituation"},this.patientImages=this.selectedIrregularVisitHistory.img,this.newImage=null):(this.vki="",this.ewl="",this.doctorComment="",this.date="",this.bloodSituation=null,this.patientImages=[],this.newImage=null),this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1,this.isSaveHovered=!1},controlFields(){(this.vki===""||this.ewl===""||this.doctorComment===""||this.date==="")&&this.showEditIrregularVisitHistoryModal?(this.isError=!0,this.message="Please fill all the fields!"):this.isError=!1},async _updateIrregularVisitHistory(){this.isSaving=!0,this.setUpdateIrregularVisitHistoryCreds({vki:parseInt(this.vki),ewl:parseInt(this.ewl),doctorComment:this.doctorComment,date:this.date+"T"+new Date(this.date).toISOString().split("T")[1],img:this.patientImages,bloadSituation:this.bloodSituation.base64});let s=await this.updateIrregularVisitHistory({uid:this.selectedIrregularVisitHistory.uId});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._updateIrregularVisitHistory(),s&&this.currentStep++},flushImage(s){this.patientImages.splice(s,1)}},async mounted(){this.resetForm()}},Y=s=>(E("data-v-ec883017"),s=s(),F(),s),rs={key:0,class:"border-b flex flex-col gap-4 border-light p-6"},ls={class:"flex flex-row gap-4"},ns={class:"flex flex-row gap-4"},ds=Y(()=>i("div",{class:"text-black text-sm font-semibold"},"Date",-1)),as={class:"flex flex-row gap-4"},cs={class:"flex flex-col gap-4"},ms=Y(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload Blood Situation (PDF)",-1)),us={class:"flex flex-row gap-4"},hs={class:"flex flex-col gap-4"},ps=Y(()=>i("div",{class:"text-black text-sm font-semibold"},"Upload User Images",-1)),gs={key:0},fs=Y(()=>i("div",{class:"text-black text-sm font-semibold"},"Edited Images",-1)),ys={class:"flex flex-row gap-4"},xs=["onClick"],vs=["src"],ws={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Is={class:"text-center text-2xl font-semibold text-primary"},bs={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},_s=["disabled"],Vs={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ss(s,e,d,p,t,l){const c=m("Input"),g=m("PdfFile"),I=m("ImageFile"),b=m("IconTrash"),_=m("Modal");return r(),v(D,{to:"body"},[a(_,{title:"Edit Irregular Visit History",showModal:d.showEditIrregularVisitHistoryModal,onCloseModal:e[12]||(e[12]=o=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[11]||(e[11]=P((...o)=>l.handleForm&&l.handleForm(...o),["prevent"]))},[t.currentStep==1?(r(),n("div",rs,[i("div",ls,[a(c,{modelValue:t.vki,"onUpdate:modelValue":e[0]||(e[0]=o=>t.vki=o),placeholder:"VKI",outline:"",error:t.isError&&t.vki===""},null,8,["modelValue","error"]),a(c,{modelValue:t.ewl,"onUpdate:modelValue":e[1]||(e[1]=o=>t.ewl=o),placeholder:"EWL",outline:"",error:t.isError&&t.ewl===""},null,8,["modelValue","error"])]),i("div",ns,[ds,a(c,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=o=>t.date=o),type:"date",placeholder:"Date",outline:"",error:t.isError&&t.date===""},null,8,["modelValue","error"])]),a(c,{modelValue:t.doctorComment,"onUpdate:modelValue":e[3]||(e[3]=o=>t.doctorComment=o),placeholder:"Doctor Comment",outline:"",error:t.isError&&t.doctorComment===""},null,8,["modelValue","error"]),i("div",as,[i("div",cs,[ms,a(g,{class:"mx-auto",onNewPdf:e[4]||(e[4]=o=>t.bloodSituation=o),"initial-base64":t.bloodSituation.base64},null,8,["initial-base64"])])]),i("div",us,[i("div",hs,[ps,a(I,{class:"mx-auto",onNewImage:e[5]||(e[5]=o=>t.newImage=o)})])]),t.patientImages.length>0?(r(),n("div",gs,[fs,i("div",ys,[(r(!0),n(S,null,k(t.patientImages,(o,f)=>(r(),n("div",{key:f,class:"flex flex-col gap-4"},[i("button",{class:"flex justify-center items-center ml-28 w-3 h-3",onClick:j=>l.flushImage(f),type:"button"},[a(b)],8,xs),i("img",{src:o,alt:"Edited Image",class:"mx-auto",style:{"max-width":"100px","max-height":"100px"}},null,8,vs)]))),128))])])):u("",!0)])):u("",!0),t.currentStep==2?(r(),n("div",ws,[i("div",Is,y(t.message),1)])):u("",!0),i("div",bs,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[6]||(e[6]=o=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[7]||(e[7]=o=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onMouseenter:e[8]||(e[8]=o=>t.isSaveHovered=!0),onMouseleave:e[9]||(e[9]=o=>t.isSaveHovered=!1),disabled:t.isError,onClick:e[10]||(e[10]=(...o)=>l.finish&&l.finish(...o))}," Edit ",40,_s)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",Vs," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const Hs=x(os,[["render",Ss],["__scopeId","data-v-ec883017"]]),ks={name:"DeleteIrregularVisitHistoryModal",data(){return{isSaving:!1,isError:!1,message:"",currentStep:1}},components:{InputFile:A,Modal:U,Input:B,Select:T},props:["showDeleteIrregularVisitHistoryModal","uid"],emits:["close-modal"],computed:{},watch:{showDeleteIrregularVisitHistoryModal(s){s?this.currentStep=1:this.resetForm()}},methods:{...H(["deleteIrregularVisitHistory"]),handleForm(){this.currentStep==2&&(this.$emit("close-modal"),this.$emit("is-saving",this.isSaving))},resetForm(){this.isSaving=!1,this.isError=!1,this.message="",this.currentStep=1},async _deleteIrregularVisitHistory(){this.isSaving=!0;let s=await this.deleteIrregularVisitHistory({uid:this.uid});return s.status===200||s.status===201?(this.isError=!1,this.message=s.data.message,this.isSaving=!0,!0):(console.log(s),this.isError=!0,this.message=s.data.message,this.isSaving=!1,!1)},async finish(){let s=!1;s=await this._deleteIrregularVisitHistory(),s&&this.currentStep++}},async mounted(){this.resetForm()}},Cs=s=>(E("data-v-eda87e8f"),s=s(),F(),s),Ms={key:0,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Ps=Cs(()=>i("div",{class:"text-center text-2xl font-semibold text-primary"}," Are you sure you want to delete this Irregular Visit History? ",-1)),Ds=[Ps],Es={key:1,class:"flex-1 flex flex-col justify-center items-center gap-4 w-[500px] mx-auto"},Fs={class:"text-center text-2xl font-semibold text-primary"},As={class:"flex items-center gap-x-6 p-8 mt-auto border-t border-light"},Us={key:3,class:"bg-primary text-black rounded-2xl px-4 py-2",type:"submit"};function Ts(s,e,d,p,t,l){const c=m("Modal");return r(),v(D,{to:"body"},[a(c,{title:"Delete Irregular Visit History",showModal:d.showDeleteIrregularVisitHistoryModal,onCloseModal:e[4]||(e[4]=g=>s.$emit("close-modal")),noPadding:"",fixedHeight:"",md:!0},{content:w(()=>[i("form",{class:"flex-1 flex flex-col w-full h-full",onSubmit:e[3]||(e[3]=P((...g)=>l.handleForm&&l.handleForm(...g),["prevent"]))},[t.currentStep==1?(r(),n("div",Ms,Ds)):u("",!0),t.currentStep==2?(r(),n("div",Es,[i("div",Fs,y(t.message),1)])):u("",!0),i("div",As,[t.currentStep!=1?(r(),n("button",{key:0,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[0]||(e[0]=g=>t.currentStep--)}," Back ")):(r(),n("button",{key:1,class:"bg-primary text-black rounded-2xl px-4 py-2 ml-auto",onClick:e[1]||(e[1]=g=>s.$emit("close-modal"))}," Cancel ")),t.currentStep!=2?C((r(),n("button",{key:2,class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:e[2]||(e[2]=(...g)=>l.finish&&l.finish(...g))}," Delete ",512)),[[M,t.currentStep==1||t.currentStep==2]]):u("",!0),t.currentStep==2?(r(),n("button",Us," Done ")):u("",!0)])],32)]),_:1},8,["showModal"])])}const Bs=x(ks,[["render",Ts],["__scopeId","data-v-eda87e8f"]]),js={name:"PatientTracing",components:{ContentPanel:ee,IconBack:se,PatientInfo:ie,Card:oe,tabBar:re,PeriodicVisitHistoryCard:ge,IrregularVisitHistoryCard:Se,AddPeriodicVisitHistoryModal:et,EditPeriodicVisitHistoryModal:_t,DeletePeriodicVisitHistoryModal:At,AddIrregularVisitHistoryModal:is,EditIrregularVisitHistoryModal:Hs,DeleteIrregularVisitHistoryModal:Bs,AtomSpinner:te},props:{},data(){return{id:this.$route.params.id,title:"TRACING",selectedMenuItem:1,tracingMenuList:He,periodicVisits:[{id:1,month:"1st Month",date:"12.12.2020",status:"Completed"},{id:2,month:"2nd Month",date:"12.12.2020",status:"Completed"}],irregularVisits:[{id:1,month:"1st Month",date:"12.12.2020",status:"Completed"},{id:2,month:"2nd Month",date:"12.12.2020",status:"Completed"}],buttonTitle:"Add History",demographicContents:{Age:32,Sex:"Female",Name:"Ali",Surname:"Veli",Phone:"05555555555",Address:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},antropometricContents:{Size:"180 cm",Weight:"80 kg",BMI:"24.69",BodyMass:"Normal"},image:"",showAddPeriodicVisitHistoryModal:!1,showEditPeriodicVisitHistoryModal:!1,showDeletePeriodicVisitHistoryModal:!1,showAddIrregularVisitHistoryModal:!1,showEditIrregularVisitHistoryModal:!1,showDeleteIrregularVisitHistoryModal:!1,uid:null,isSaving:!1,selectedPeriodicVisitHistory:null,selectedIrregularVisitHistory:null,isLoading:!0}},computed:{},methods:{...H(["getPatient"]),convertDateFormat(s){var e=new Date(s),d=e.getUTCDate(),p=e.getUTCMonth()+1,t=e.getUTCFullYear(),l=`${d}.${p}.${t}`;return l},checkEditPeriodicVisitHistory(s,e){s&&(this.selectedPeriodicVisitHistory=e,this.showEditPeriodicVisitHistoryModal=!0)},checkEditIrregularVisitHistory(s,e){s&&(this.selectedIrregularVisitHistory=e,this.showEditIrregularVisitHistoryModal=!0)},checkDeletePeriodicVisitHistory(s,e){s&&(this.uid=e.uId,this.showDeletePeriodicVisitHistoryModal=!0)},checkDeleteIrregularVisitHistory(s,e){s&&(this.uid=e.uId,this.showDeleteIrregularVisitHistoryModal=!0)},async _getPatient(){this.isLoading=!0;const s=await this.getPatient({uid:this.id});this.demographicContents.Address=s.address,this.demographicContents.Age=s.age,this.demographicContents.Name=s.name,this.demographicContents.Surname=s.surname,this.demographicContents.Phone=s.phone,this.demographicContents.Sex="Male",this.antropometricContents.BMI=s.bmi,this.antropometricContents.BodyMass=s.bodyMassIndex,this.antropometricContents.Size=s.size.toString()+" cm",this.antropometricContents.Weight=s.weight.toString()+" kg",this.image=s.image,this.periodicVisits=s.periodicVisitHistory,this.irregularVisits=s.irregularVisitHistory;let e=0;this.periodicVisits.forEach(d=>{d.date=this.convertDateFormat(d.date),d.month=e+1+"st Month",d.status="Completed",e++}),this.irregularVisits.forEach(d=>{d.date=this.convertDateFormat(d.date),d.status="Completed",e++}),this.isLoading=!1},clickAddHistory(){this.selectedMenuItem==1?this.showAddPeriodicVisitHistoryModal=!0:this.selectedMenuItem==2&&(this.showAddIrregularVisitHistoryModal=!0)}},async mounted(){this.id=this.$route.params.id,this.buttonTitle="+ Add Periodic Visit ",await this._getPatient(),console.log(this.id)},watch:{async isSaving(s){this.isSaving&&(await this._getPatient(),this.isSaving=!1)},selectedMenuItem:function(s){s==1?this.buttonTitle="+ Add Periodic Visit ":s==2&&(this.buttonTitle="+ Add Irregular Visit")}}},Ls={class:"flex flex-row items-center justify-between"},Ns={class:"w-8 h-8 flex items-center justify-center"},Ws=i("div",{class:"ml-4"},"Go Back",-1),$s={class:"font-semibold ml-96"},Os={key:0,class:"flex justify-center items-center h-[500px]"},Rs={key:1},zs={class:"flex flex-col gap-6"},Ks={class:"flex flex-row justify-between items-center"},Ys={key:0,class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}},qs={key:1,class:"flex flex-col gap-6 mt-6 overflow-y-auto",style:{"max-height":"300px"}};function Gs(s,e,d,p,t,l){const c=m("IconBack"),g=m("AtomSpinner"),I=m("PatientInfo"),b=m("tabBar"),_=m("PeriodicVisitHistoryCard"),o=m("IrregularVisitHistoryCard"),f=m("ContentPanel"),j=m("AddPeriodicVisitHistoryModal"),G=m("EditPeriodicVisitHistoryModal"),J=m("DeletePeriodicVisitHistoryModal"),Q=m("AddIrregularVisitHistoryModal"),X=m("EditIrregularVisitHistoryModal"),Z=m("DeleteIrregularVisitHistoryModal");return r(),n(S,null,[a(f,null,{header:w(()=>[i("div",Ls,[i("div",{class:"flex items-center justify-center cursor-pointer",onClick:e[0]||(e[0]=h=>s.$router.go(-1))},[i("div",Ns,[a(c)]),Ws]),i("div",$s,y(t.title),1)])]),content:w(()=>[t.isLoading?(r(),n("div",Os,[a(g,{color:"#BEEBE5","animation-duration":1e3})])):u("",!0),t.isLoading?u("",!0):(r(),n("div",Rs,[i("div",zs,[a(I,{"antropometric-contents":t.antropometricContents,"demographic-contents":t.demographicContents,image:t.image},null,8,["antropometric-contents","demographic-contents","image"]),i("div",Ks,[a(b,{onSelectedMenuItem:e[1]||(e[1]=h=>t.selectedMenuItem=h),menuList:t.tracingMenuList},null,8,["menuList"]),i("button",{class:"bg-primary text-black rounded-2xl px-4 py-2",onClick:e[2]||(e[2]=(...h)=>l.clickAddHistory&&l.clickAddHistory(...h))},y(t.buttonTitle),1)])]),t.selectedMenuItem==1?(r(),n("div",Ys,[(r(!0),n(S,null,k(t.periodicVisits,h=>(r(),v(_,{key:h.id,periodicVisit:h,onEdit:V=>l.checkEditPeriodicVisitHistory(V,h),onDelete:V=>l.checkDeletePeriodicVisitHistory(V,h)},null,8,["periodicVisit","onEdit","onDelete"]))),128))])):u("",!0),t.selectedMenuItem==2?(r(),n("div",qs,[(r(!0),n(S,null,k(t.irregularVisits,h=>(r(),v(o,{key:h.id,irregularVisit:h,onEdit:V=>l.checkEditIrregularVisitHistory(V,h),onDelete:V=>l.checkDeleteIrregularVisitHistory(V,h)},null,8,["irregularVisit","onEdit","onDelete"]))),128))])):u("",!0)]))]),_:1}),a(j,{showAddPeriodicVisitHistoryModal:t.showAddPeriodicVisitHistoryModal,patientUID:t.id,onCloseModal:e[3]||(e[3]=h=>t.showAddPeriodicVisitHistoryModal=!1),onIsSaving:e[4]||(e[4]=h=>t.isSaving=h)},null,8,["showAddPeriodicVisitHistoryModal","patientUID"]),a(G,{showEditPeriodicVisitHistoryModal:t.showEditPeriodicVisitHistoryModal,selectedPeriodicVisitHistory:t.selectedPeriodicVisitHistory,onCloseModal:e[5]||(e[5]=h=>t.showEditPeriodicVisitHistoryModal=!1),onIsSaving:e[6]||(e[6]=h=>t.isSaving=h)},null,8,["showEditPeriodicVisitHistoryModal","selectedPeriodicVisitHistory"]),a(J,{showDeletePeriodicVisitHistoryModal:t.showDeletePeriodicVisitHistoryModal,uid:t.uid,onCloseModal:e[7]||(e[7]=h=>t.showDeletePeriodicVisitHistoryModal=!1),onIsSaving:e[8]||(e[8]=h=>t.isSaving=h)},null,8,["showDeletePeriodicVisitHistoryModal","uid"]),a(Q,{showAddIrregularVisitHistoryModal:t.showAddIrregularVisitHistoryModal,patientUID:t.id,onCloseModal:e[9]||(e[9]=h=>t.showAddIrregularVisitHistoryModal=!1),onIsSaving:e[10]||(e[10]=h=>t.isSaving=h)},null,8,["showAddIrregularVisitHistoryModal","patientUID"]),a(X,{showEditIrregularVisitHistoryModal:t.showEditIrregularVisitHistoryModal,selectedIrregularVisitHistory:t.selectedIrregularVisitHistory,onCloseModal:e[11]||(e[11]=h=>t.showEditIrregularVisitHistoryModal=!1),onIsSaving:e[12]||(e[12]=h=>t.isSaving=h)},null,8,["showEditIrregularVisitHistoryModal","selectedIrregularVisitHistory"]),a(Z,{showDeleteIrregularVisitHistoryModal:t.showDeleteIrregularVisitHistoryModal,uid:t.uid,onCloseModal:e[13]||(e[13]=h=>t.showDeleteIrregularVisitHistoryModal=!1),onIsSaving:e[14]||(e[14]=h=>t.isSaving=h)},null,8,["showDeleteIrregularVisitHistoryModal","uid"])],64)}const li=x(js,[["render",Gs]]);export{li as default};
